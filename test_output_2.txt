
> gsd-taskmanager@5.7.0 test /Users/vinnycarpenter/Projects/gsd-taskmanager
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.9 [39m[90m/Users/vinnycarpenter/Projects/gsd-taskmanager[39m

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould queue sync request when sync is already running
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould queue sync request when sync is already running
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould execute full sync flow: push then pull
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould execute full sync flow: push then pull
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524197[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould execute full sync flow: push then pull
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.197Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould update metadata after successful sync
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould update metadata after successful sync
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524211[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould update metadata after successful sync
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.211Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould record sync success to history
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould record sync success to history
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524224[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould record sync success to history
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.224Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould return success status with counts
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould return success status with counts
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524233[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync orchestration[2m > [22m[2mshould return success status with counts
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.233Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould prevent concurrent sync operations
[22m[39m[SYNC_ENGINE] Sync already running, skipping 

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould prevent concurrent sync operations
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould prevent concurrent sync operations
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524245[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould queue sync request when sync is already running
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould queue sync request when sync is already running
[22m[39m[SYNC COORDINATOR] Processing queued sync request: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mAuthentication Flow - Not Authenticated[2m > [22m[2mshould handle successful OAuth authentication
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mAuthentication Flow - Not Authenticated[2m > [22m[2mshould display error message on OAuth failure
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [31mâ¯[39m tests/data/db.test.ts [2m([22m[2m34 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[33m 318[2mms[22m[39m
       [32mâœ“[39m should initialize database with correct name[32m 18[2mms[22m[39m
       [32mâœ“[39m should create tasks table[32m 4[2mms[22m[39m
       [32mâœ“[39m should create all required tables[32m 3[2mms[22m[39m
       [32mâœ“[39m should be a singleton instance[32m 5[2mms[22m[39m
       [32mâœ“[39m should add and retrieve a task[32m 2[2mms[22m[39m
       [32mâœ“[39m should query tasks by quadrant[32m 5[2mms[22m[39m
[31m       [31mÃ—[31m should query tasks by completion status[39m[32m 9[2mms[22m[39m
[31m       [31mÃ—[31m should query tasks by compound index [quadrant+completed][39m[32m 6[2mms[22m[39m
       [32mâœ“[39m should query tasks by tags using multi-entry index[32m 5[2mms[22m[39m
       [32mâœ“[39m should query tasks by dependencies using multi-entry index[32m 2[2mms[22m[39m
       [32mâœ“[39m should update a task[32m 4[2mms[22m[39m
       [32mâœ“[39m should delete a task[32m 10[2mms[22m[39m
       [32mâœ“[39m should count tasks[32m 17[2mms[22m[39m
       [32mâœ“[39m should clear all tasks[32m 17[2mms[22m[39m
       [32mâœ“[39m should add and retrieve archived task[32m 3[2mms[22m[39m
       [32mâœ“[39m should query archived tasks by archivedAt[32m 4[2mms[22m[39m
       [32mâœ“[39m should add and retrieve smart view[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should query smart views by isBuiltIn[39m[32m 5[2mms[22m[39m
       [32mâœ“[39m should add and retrieve sync queue item[32m 3[2mms[22m[39m
       [32mâœ“[39m should query queue items by operation[32m 3[2mms[22m[39m
       [32mâœ“[39m should order queue items by timestamp[32m 3[2mms[22m[39m
       [32mâœ“[39m should store sync config[32m 8[2mms[22m[39m
       [32mâœ“[39m should add and retrieve sync history record[32m 7[2mms[22m[39m
       [32mâœ“[39m should query sync history by status[32m 23[2mms[22m[39m
       [32mâœ“[39m should order sync history by timestamp[32m 6[2mms[22m[39m
       [32mâœ“[39m should store and retrieve archive settings[32m 4[2mms[22m[39m
       [32mâœ“[39m should perform bulk add[32m 43[2mms[22m[39m
       [32mâœ“[39m should perform bulk delete[32m 22[2mms[22m[39m
[31m       [31mÃ—[31m should perform bulk update[39m[32m 20[2mms[22m[39m
       [32mâœ“[39m should support transactions across multiple tables[32m 6[2mms[22m[39m
       [32mâœ“[39m should rollback transaction on error[32m 6[2mms[22m[39m
       [32mâœ“[39m should throw error when adding duplicate primary key[32m 27[2mms[22m[39m
       [32mâœ“[39m should handle getting non-existent record[32m 8[2mms[22m[39m
       [32mâœ“[39m should handle deleting non-existent record[32m 3[2mms[22m[39m
[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould prevent concurrent sync operations
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.245Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mAuthentication Flow - Not Authenticated[2m > [22m[2mshould clear error when starting new OAuth flow
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould allow sync after previous sync completes
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould allow sync after previous sync completes
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524353[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould allow sync after previous sync completes
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.353Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould allow sync after previous sync completes
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [32m'2025-11-20T02:42:04.353Z'[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould allow sync after previous sync completes
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524357[39m,
  previousLastSyncAt: [33m1763606524353[39m,
  timeSinceLastSync: [32m'4ms'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould allow sync after previous sync completes
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [32m'2025-11-20T02:42:04.353Z'[39m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.357Z'[39m,
  timingWindow: [32m'4ms'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mstate transitions[2m > [22m[2mshould check encryption initialized before sync
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould queue sync request when sync is already running
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould queue sync request when sync is already running
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould execute push before pull
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould execute push before pull
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524373[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould execute push before pull
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.373Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould not be syncing after all requests complete
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould not be syncing after all requests complete
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould pass updated config to pull after push
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: { device1: [33m1[39m },
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould pass updated config to pull after push
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524379[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould pass updated config to pull after push
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.379Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould handle conflicts from pull phase
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould handle conflicts from pull phase
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524384[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould handle conflicts from pull phase
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.384Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould not auto-resolve conflicts with manual strategy
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould not auto-resolve conflicts with manual strategy
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524394[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpull-then-push sync flow[2m > [22m[2mshould not auto-resolve conflicts with manual strategy
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.394Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstderr[2m | tests/ui/sync-button.test.tsx[2m > [22m[2mSyncButton[2m > [22m[2mPending Operations Badge[2m > [22m[2mshould show pending count badge when operations are queued
[22m[39mAn update to SyncButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync cancellation[2m > [22m[2mshould return already_running when sync is in progress
[22m[39m[SYNC_ENGINE] Sync already running, skipping 

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync cancellation[2m > [22m[2mshould return already_running when sync is in progress
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync cancellation[2m > [22m[2mshould return already_running when sync is in progress
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524400[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstderr[2m | tests/ui/sync-button.test.tsx[2m > [22m[2mSyncButton[2m > [22m[2mPending Operations Badge[2m > [22m[2mshould update pending count periodically
[22m[39mAn update to SyncButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/ui/sync-button.test.tsx[2m > [22m[2mSyncButton[2m > [22m[2mPending Operations Badge[2m > [22m[2mshould show pending count in tooltip
[22m[39mAn update to SyncButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/ui/sync-button.test.tsx[2m > [22m[2mSyncButton[2m > [22m[2mPending Operations Badge[2m > [22m[2mshould show pending count in tooltip
[22m[39mAn update to Tooltip inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to Tooltip inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncButton inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould not be syncing after all requests complete
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould not be syncing after all requests complete
[22m[39m[SYNC COORDINATOR] Processing queued sync request: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2msync cancellation[2m > [22m[2mshould return already_running when sync is in progress
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.400Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent auto sync requests
[22m[39m[SYNC_ENGINE] Sync already running, skipping 
[SYNC_ENGINE] Sync already running, skipping 

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent auto sync requests
[22m[39m[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent auto sync requests
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524504[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

 [31mâ¯[39m tests/ui/dashboard-components.test.tsx [2m([22m[2m30 tests[22m[2m | [22m[31m4 failed[39m[2m)[22m[32m 191[2mms[22m[39m
       [32mâœ“[39m should render stat value and label[32m 32[2mms[22m[39m
       [32mâœ“[39m should render with trend indicator up[32m 6[2mms[22m[39m
       [32mâœ“[39m should render with trend indicator down[32m 5[2mms[22m[39m
       [32mâœ“[39m should render without trend indicator[32m 3[2mms[22m[39m
       [32mâœ“[39m should render zero value[32m 4[2mms[22m[39m
       [32mâœ“[39m should render large numbers[32m 1[2mms[22m[39m
       [32mâœ“[39m should render current streak[32m 7[2mms[22m[39m
       [32mâœ“[39m should render longest streak[32m 3[2mms[22m[39m
       [32mâœ“[39m should handle zero streak[32m 8[2mms[22m[39m
       [32mâœ“[39m should render streak icon[32m 4[2mms[22m[39m
       [32mâœ“[39m should render with empty data[32m 8[2mms[22m[39m
       [32mâœ“[39m should render with line chart by default[32m 4[2mms[22m[39m
       [32mâœ“[39m should render with bar chart type[32m 3[2mms[22m[39m
       [32mâœ“[39m should accept chart type prop[32m 4[2mms[22m[39m
       [32mâœ“[39m should render with empty data[32m 2[2mms[22m[39m
       [32mâœ“[39m should render with task distribution[32m 7[2mms[22m[39m
       [32mâœ“[39m should render pie chart[32m 2[2mms[22m[39m
       [32mâœ“[39m should render empty state when no tags[32m 1[2mms[22m[39m
       [32mâœ“[39m should render tag statistics[32m 6[2mms[22m[39m
       [32mâœ“[39m should show completion rate progress bars[32m 4[2mms[22m[39m
       [32mâœ“[39m should handle 0% completion rate[32m 3[2mms[22m[39m
       [32mâœ“[39m should handle 100% completion rate[32m 2[2mms[22m[39m
       [32mâœ“[39m should render empty state when no upcoming deadlines[32m 7[2mms[22m[39m
[31m       [31mÃ—[31m should show overdue tasks[39m[32m 10[2mms[22m[39m
[31m       [31mÃ—[31m should show tasks due today[39m[32m 15[2mms[22m[39m
       [32mâœ“[39m should show tasks due this week[32m 6[2mms[22m[39m
[31m       [31mÃ—[31m should group tasks by category[39m[32m 6[2mms[22m[39m
       [32mâœ“[39m should make tasks clickable to navigate[32m 11[2mms[22m[39m
[31m       [31mÃ—[31m should show count of overdue tasks[39m[32m 7[2mms[22m[39m
       [32mâœ“[39m should not show completed tasks[32m 6[2mms[22m[39m
[90mstderr[2m | tests/ui/encryption-passphrase-dialog.test.tsx[2m > [22m[2mEncryptionPassphraseDialog[2m > [22m[2mIssue #4: Error Handling - User Feedback[2m > [22m[2mshould show error toast when queueExistingTasks fails
[22m[39m[SYNC] Failed to queue existing tasks: Error: Queue failed
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/encryption-passphrase-dialog.test.tsx:191:48
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent auto sync requests
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.504Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent user sync requests
[22m[39m[SYNC_ENGINE] Sync already running, skipping 

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent user sync requests
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent user sync requests
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524562[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould not be syncing after all requests complete
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mqueuing sync when already running[2m > [22m[2mshould not be syncing after all requests complete
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould deduplicate multiple auto priority requests
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould deduplicate multiple auto priority requests
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Updating existing queued request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Updating existing queued request
[SYNC COORDINATOR] Queue size: 1

[90mstderr[2m | tests/ui/encryption-passphrase-dialog.test.tsx[2m > [22m[2mEncryptionPassphraseDialog[2m > [22m[2mIssue #4: Error Handling - User Feedback[2m > [22m[2mshould complete dialog even when queueExistingTasks fails
[22m[39m[SYNC] Failed to queue existing tasks: Error: Queue failed
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/encryption-passphrase-dialog.test.tsx:214:48
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mOAuth State Management[2m > [22m[2mshould ignore OAuth events with mismatched state
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mOAuth State Management[2m > [22m[2mshould ignore OAuth events with mismatched state
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mSubscription Cleanup[2m > [22m[2mshould not subscribe when not mounted
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mconcurrent sync prevention[2m > [22m[2mshould block concurrent user sync requests
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.562Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpriority handling[2m > [22m[2mshould bypass backoff for user-triggered sync
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpriority handling[2m > [22m[2mshould bypass backoff for user-triggered sync
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524618[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpriority handling[2m > [22m[2mshould bypass backoff for user-triggered sync
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.618Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mpriority handling[2m > [22m[2mshould respect backoff for auto sync
[22m[39m[SYNC_ENGINE] Automatic sync blocked by retry backoff { consecutiveFailures: [33m0[39m, nextRetryAt: [1mnull[22m }

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould ensure valid token before sync
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould ensure valid token before sync
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524625[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould ensure valid token before sync
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.625Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstderr[2m | tests/ui/sync-auth-dialog.test.tsx[2m > [22m[2mSyncAuthDialog[2m > [22m[2mStatus Refresh[2m > [22m[2mshould refresh status after successful OAuth
[22m[39mAn update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SyncAuthDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould fail sync if token validation fails
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould handle 401 errors with token refresh
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould handle 401 errors with token refresh
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524632[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould handle 401 errors with token refresh
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.632Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould fail if token refresh fails
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mtoken validation[2m > [22m[2mshould fail if token refresh fails
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524639[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mqueue optimization[2m > [22m[2mshould optimize queue before sync
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mqueue optimization[2m > [22m[2mshould optimize queue before sync
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524644[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mqueue optimization[2m > [22m[2mshould optimize queue before sync
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.644Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mqueue optimization[2m > [22m[2mshould log removed operations count
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mqueue optimization[2m > [22m[2mshould log removed operations count
[22m[39m[SYNC_ENGINE] Queue optimization complete { removedCount: [33m5[39m }
[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524647[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2mqueue optimization[2m > [22m[2mshould log removed operations count
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.647Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould delegate error handling to error handler
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould delegate error handling to error handler
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524652[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

 [32mâœ“[39m tests/ui/sync-auth-dialog.test.tsx [2m([22m[2m30 tests[22m[2m)[22m[33m 515[2mms[22m[39m
[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould handle errors during pull phase
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould handle errors during pull phase
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524657[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/ui/encryption-passphrase-dialog.test.tsx[2m > [22m[2mEncryptionPassphraseDialog[2m > [22m[2mIssue #4: Error Handling - User Feedback[2m > [22m[2mshould not show error toast when queue is successful
[22m[39m[SYNC] Queued 5 existing tasks for initial sync

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould not fail sync if history recording fails
[22m[39m[SYNC_ENGINE] User-triggered sync bypassing backoff delay 
[SYNC_ENGINE] Sync config loaded {
  deviceId: [32m'device-456'[39m,
  userId: [32m'user-123'[39m,
  lastSyncAt: [90mundefined[39m,
  vectorClock: {},
  consecutiveFailures: [33m0[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould not fail sync if history recording fails
[22m[39m[SYNC_ENGINE] Sync timing window captured {
  syncStartTime: [33m1763606524662[39m,
  previousLastSyncAt: [1mnull[22m,
  timeSinceLastSync: [32m'initial sync'[39m
}

[90mstdout[2m | tests/sync/engine-coordinator.test.ts[2m > [22m[2mSyncEngine[2m > [22m[2merror handling[2m > [22m[2mshould not fail sync if history recording fails
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:04.662Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

 [32mâœ“[39m tests/sync/engine-coordinator.test.ts [2m([22m[2m29 tests[22m[2m)[22m[33m 489[2mms[22m[39m
[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould deduplicate multiple auto priority requests
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould deduplicate multiple auto priority requests
[22m[39m[SYNC COORDINATOR] Processing queued sync request: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

[90mstderr[2m | tests/ui/import-dialog.test.tsx[2m > [22m[2mImportDialog[2m > [22m[2mshows alert on import error
[22m[39mError: Import failed
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/import-dialog.test.tsx:187:42
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runFiles [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1526:3[90m)[39m

[90mstdout[2m | tests/ui/encryption-passphrase-dialog.test.tsx[2m > [22m[2mEncryptionPassphraseDialog[2m > [22m[2mIssue #5: Timeout Cleanup - Memory Leak Prevention[2m > [22m[2mshould trigger auto-sync after 1 second delay
[22m[39m[SYNC] Queued 3 existing tasks for initial sync

[90mstderr[2m | tests/ui/import-dialog.test.tsx[2m > [22m[2mImportDialog[2m > [22m[2mdoes not close dialog on import error
[22m[39mError: Import failed
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/import-dialog.test.tsx:203:42
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runFiles [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1526:3[90m)[39m

[90mstderr[2m | tests/ui/import-dialog.test.tsx[2m > [22m[2mImportDialog[2m > [22m[2mre-enables buttons after import error
[22m[39mError: Import failed
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/import-dialog.test.tsx:221:42
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runFiles [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1526:3[90m)[39m

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould deduplicate multiple auto priority requests
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould deduplicate multiple auto priority requests
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould keep user priority over auto priority
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould keep user priority over auto priority
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: user
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Deduplicating: keeping only user priority request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Deduplicating: keeping only user priority request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould keep user priority over auto priority
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould keep user priority over auto priority
[22m[39m[SYNC COORDINATOR] Processing queued sync request: user
[SYNC COORDINATOR] Starting sync execution with priority: user

 [32mâœ“[39m tests/ui/import-dialog.test.tsx [2m([22m[2m25 tests[22m[2m)[22m[33m 778[2mms[22m[39m
[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould call onStart callback when Google button is clicked
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould call onStart callback when Google button is clicked
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould call onStart callback when Apple button is clicked
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'apple'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould call onStart callback when Apple button is clicked
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'apple'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould fetch OAuth start endpoint for Google
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould fetch OAuth start endpoint for Google
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould fetch OAuth start endpoint for Apple
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'apple'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould fetch OAuth start endpoint for Apple
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'apple'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould keep user priority over auto priority
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mdeduplicating multiple pending requests[2m > [22m[2mshould keep user priority over auto priority
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould execute queued sync after current sync completes
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould execute queued sync after current sync completes
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould open popup window when popups are supported
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mClick Handlers[2m > [22m[2mshould open popup window when popups are supported
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould show loading text when Google OAuth is in progress
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould show loading text when Google OAuth is in progress
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould show loading text when Apple OAuth is in progress
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'apple'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould show loading text when Apple OAuth is in progress
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'apple'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould disable both buttons when one OAuth flow is in progress
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould disable both buttons when one OAuth flow is in progress
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould re-enable buttons after successful OAuth
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould re-enable buttons after successful OAuth
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould re-enable buttons after successful OAuth
[22m[39mAn update to OAuthButtons inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mLoading States[2m > [22m[2mshould re-enable buttons after successful OAuth
[22m[39m[OAuth] Handshake completed successfully: { provider: [32m'google'[39m, userId: [32m'user123'[39m }

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould execute queued sync after current sync completes
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould execute queued sync after current sync completes
[22m[39m[SYNC COORDINATOR] Processing queued sync request: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould call onSuccess callback with auth data
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould call onSuccess callback with auth data
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould call onSuccess callback with auth data
[22m[39mAn update to OAuthButtons inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould call onSuccess callback with auth data
[22m[39m[OAuth] Handshake completed successfully: { provider: [32m'google'[39m, userId: [32m'user123'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould close popup on successful OAuth
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould close popup on successful OAuth
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/sync/health-monitor.test.ts[2m > [22m[2mHealthMonitor[2m > [22m[2mstart and stop[2m > [22m[2mshould not start if already running
[22m[39m[HEALTH] Server connectivity OK

[90mstdout[2m | tests/sync/health-monitor.test.ts[2m > [22m[2mHealthMonitor[2m > [22m[2mstart and stop[2m > [22m[2mshould not start if already running
[22m[39m[HEALTH] Health check complete: { healthy: [33mtrue[39m, issuesFound: [33m0[39m, issues: [] }

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould close popup on successful OAuth
[22m[39mAn update to OAuthButtons inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould close popup on successful OAuth
[22m[39m[OAuth] Handshake completed successfully: { provider: [32m'google'[39m, userId: [32m'user123'[39m }

[90mstdout[2m | tests/sync/health-monitor.test.ts[2m > [22m[2mHealthMonitor[2m > [22m[2mstart and stop[2m > [22m[2mshould stop health monitor and clear interval
[22m[39m[HEALTH] Server connectivity OK

[90mstdout[2m | tests/sync/health-monitor.test.ts[2m > [22m[2mHealthMonitor[2m > [22m[2mstart and stop[2m > [22m[2mshould stop health monitor and clear interval
[22m[39m[HEALTH] Health check complete: { healthy: [33mtrue[39m, issuesFound: [33m0[39m, issues: [] }

 [31mâ¯[39m tests/ui/matrix-board.test.tsx [2m([22m[2m24 tests[22m[2m | [22m[31m24 failed[39m[2m)[22m[32m 77[2mms[22m[39m
[31m       [31mÃ—[31m should render empty state when no tasks exist[39m[32m 20[2mms[22m[39m
[31m       [31mÃ—[31m should render all four quadrants[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should render app header with controls[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should display tasks in correct quadrants[39m[32m 5[2mms[22m[39m
[31m       [31mÃ—[31m should show task tags[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should hide completed tasks by default[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should filter tasks by title[39m[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should filter tasks by description[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should filter tasks by tags[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should clear search results when search is cleared[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should open new task dialog with "n" key[39m[32m 1[2mms[22m[39m
[31m       [31mÃ—[31m should focus search input with "/" key[39m[32m 1[2mms[22m[39m
[31m       [31mÃ—[31m should open help dialog with "?" key[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should create a new task[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should edit an existing task[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should toggle task completion[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should delete a task[39m[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should enter selection mode when task is selected[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should select multiple tasks[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should bulk delete selected tasks[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should bulk complete selected tasks[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should handle new task action from URL parameter[39m[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should show empty state with no tasks[39m[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should show empty state when all tasks are filtered out[39m[32m 2[2mms[22m[39m
[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould ignore OAuth result with mismatched provider
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould ignore OAuth result with mismatched provider
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mSuccess Handling[2m > [22m[2mshould ignore OAuth result with mismatched provider
[22m[39mAn update to OAuthButtons inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/sync/oauth-handshake.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 1092[2mms[22m[39m
[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould call onError callback on OAuth failure
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould call onError callback on OAuth failure
[22m[39m[OAuth] Popup flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould call onError callback on OAuth failure
[22m[39mAn update to OAuthButtons inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
[OAuth] Handshake failed: { state: [32m'test-sta...'[39m, error: [32m'Authentication failed'[39m }

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle network errors during fetch
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle network errors during fetch
[22m[39m[OAuth] Flow failed: Error: Network error
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/oauth-buttons.test.tsx:414:35
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle HTTP error responses
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle HTTP error responses
[22m[39m[OAuth] Flow failed: Error: Failed to initiate google OAuth: 500 Internal Server Error
    at handleOAuth [90m(/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mcomponents/sync/oauth-buttons.tsx:148:23[90m)[39m

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle invalid state token from server
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle invalid state token from server
[22m[39m[OAuth] Flow failed: Error: Invalid state token received from server
    at handleOAuth [90m(/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mcomponents/sync/oauth-buttons.tsx:157:15[90m)[39m

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle blocked popup
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould handle blocked popup
[22m[39m[OAuth] Flow failed: Error: Popup blocked. Please allow popups for this site.
    at handleOAuth [90m(/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mcomponents/sync/oauth-buttons.tsx:181:17[90m)[39m

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould execute queued sync after current sync completes
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould execute queued sync after current sync completes
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould process multiple queued syncs in order
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould process multiple queued syncs in order
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: user
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Deduplicating: keeping only user priority request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould clear loading state on error
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mtrue[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mError Handling[2m > [22m[2mshould clear loading state on error
[22m[39m[OAuth] Flow failed: Error: Network error
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/oauth-buttons.test.tsx:491:35
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mRedirect Flow[2m > [22m[2mshould redirect to auth URL when popups are not supported
[22m[39m[OAuth] Initiating flow: {
  provider: [32m'google'[39m,
  usePopup: [33mfalse[39m,
  platform: {
    platform: [32m'desktop'[39m,
    standalone: [33mfalse[39m,
    mobile: [33mfalse[39m,
    canUsePopups: [33mtrue[39m
  },
  environment: [32m'local'[39m,
  workerUrl: [32m'http://localhost:8787'[39m
}

[90mstdout[2m | tests/ui/oauth-buttons.test.tsx[2m > [22m[2mOAuthButtons[2m > [22m[2mRedirect Flow[2m > [22m[2mshould redirect to auth URL when popups are not supported
[22m[39m[OAuth] Redirect flow initiated: { provider: [32m'google'[39m, state: [32m'test-sta...'[39m, environment: [32m'local'[39m }

[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould automatically cleanup when exceeding MAX_HISTORY_RECORDS
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

 [32mâœ“[39m tests/ui/oauth-buttons.test.tsx [2m([22m[2m24 tests[22m[2m)[22m[33m 418[2mms[22m[39m
[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould keep most recent records during cleanup
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould keep most recent records during cleanup
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould keep most recent records during cleanup
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould keep most recent records during cleanup
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould keep most recent records during cleanup
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

[90mstdout[2m | tests/data/sync-history.test.ts[2m > [22m[2msync-history[2m > [22m[2mcleanup old records[2m > [22m[2mshould cleanup after recording error
[22m[39m[SYNC_HISTORY] Cleaned up old sync history records { deleted: [33m1[39m, remaining: [33m100[39m }

 [32mâœ“[39m tests/data/sync-history.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 233[2mms[22m[39m
[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould process multiple queued syncs in order
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould process multiple queued syncs in order
[22m[39m[SYNC COORDINATOR] Processing queued sync request: user
[SYNC COORDINATOR] Starting sync execution with priority: user

 [32mâœ“[39m tests/ui/filter-due-date.test.tsx [2m([22m[2m22 tests[22m[2m)[22m[33m 409[2mms[22m[39m
 [32mâœ“[39m tests/sync/health-monitor.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 339[2mms[22m[39m
[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould process multiple queued syncs in order
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mexecuting queued sync after completion[2m > [22m[2mshould process multiple queued syncs in order
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass correct priority to sync engine
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass correct priority to sync engine
[22m[39m[SYNC COORDINATOR] Sync requested with priority: user
[SYNC COORDINATOR] Starting sync execution with priority: user

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass correct priority to sync engine
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass correct priority to sync engine
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass auto priority by default
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass auto priority by default
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass auto priority by default
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould pass auto priority by default
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould prioritize user requests over auto in queue
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould prioritize user requests over auto in queue
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: user
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Deduplicating: keeping only user priority request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mreturns unique tags from all tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'pqrZNyZhDwKE'[39m, title: [32m'Task 1'[39m }

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mreturns unique tags from all tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'5nMeUVxxdBje'[39m, title: [32m'Task 2'[39m }

[90mstderr[2m | tests/ui/smart-view-selector.test.tsx[2m > [22m[2mSmartViewSelector[2m > [22m[2mrenders the selector button
[22m[39mAn update to SmartViewSelector inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mreturns sorted tags alphabetically
[22m[39m[TASK_CRUD] Task created { taskId: [32m'8RIYGiTgKkLc'[39m, title: [32m'Task 1'[39m }

 [32mâœ“[39m tests/ui/filter-panel.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 337[2mms[22m[39m
[90mstderr[2m | tests/ui/save-smart-view-dialog.test.tsx[2m > [22m[2mSaveSmartViewDialog[2m > [22m[2mshows error message when save fails
[22m[39mFailed to save Smart View: Error: Database error
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/save-smart-view-dialog.test.tsx:223:43
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runFiles [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1526:3[90m)[39m

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould prioritize user requests over auto in queue
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould prioritize user requests over auto in queue
[22m[39m[SYNC COORDINATOR] Processing queued sync request: user
[SYNC COORDINATOR] Starting sync execution with priority: user

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould enable sync with auth credentials
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mdeduplicates tags across tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'F1OL96Stcctm'[39m, title: [32m'Task 1'[39m }

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mdeduplicates tags across tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'PkrqRKIoby3L'[39m, title: [32m'Task 2'[39m }

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould initialize crypto with password and salt
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould set token in API client
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould queue existing tasks when tasks exist
[22m[39m[SYNC] Initial sync setup: queued 5 existing tasks

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould queue existing tasks when tasks exist
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould start health monitor
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2menableSync[2m > [22m[2mshould work with auto-created config
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mdisableSync[2m > [22m[2mshould stop health monitor
[22m[39m[SYNC] Stopping health monitor (sync disabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mdisableSync[2m > [22m[2mshould clear crypto manager
[22m[39m[SYNC] Stopping health monitor (sync disabled)

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mdisableSync[2m > [22m[2mshould handle disabling when config does not exist
[22m[39m[SYNC] Stopping health monitor (sync disabled)

[90mstderr[2m | tests/ui/save-smart-view-dialog.test.tsx[2m > [22m[2mSaveSmartViewDialog[2m > [22m[2mdoes not close dialog when save fails
[22m[39mFailed to save Smart View: Error: Database error
    at [90m/Users/vinnycarpenter/Projects/gsd-taskmanager/[39mtests/ui/save-smart-view-dialog.test.tsx:237:43
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:157:11
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:753:26
    at [90mfile:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1636:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1602:10[90m)[39m
    at runTest [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1309:12[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runSuite [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1468:8[90m)[39m
    at runFiles [90m(file:///Users/vinnycarpenter/Projects/gsd-taskmanager/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@4.0.9/node_modules/[4m@vitest[24m/runner/dist/index.js:1526:3[90m)[39m

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mconsolidating multiple updates for same task[2m > [22m[2mshould merge multiple updates into single operation
[22m[39m[QUEUE OPTIMIZER] Consolidating 3 operations for task task1
[QUEUE OPTIMIZER] Consolidating 3 updates into single update

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mhandles tasks with no tags
[22m[39m[TASK_CRUD] Task created { taskId: [32m'hLdWeOBONgC9'[39m, title: [32m'Task 1'[39m }

[90mstdout[2m | tests/data/use-all-tags.test.ts[2m > [22m[2museAllTags[2m > [22m[2mhandles tasks with no tags
[22m[39m[TASK_CRUD] Task created { taskId: [32m'EZ7O8QYNsF2X'[39m, title: [32m'Task 2'[39m }

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mremoving operations when task deleted[2m > [22m[2mshould remove all operations except delete when task is deleted
[22m[39m[QUEUE OPTIMIZER] Consolidating 3 operations for task task1
[QUEUE OPTIMIZER] Delete operation found, removing 2 superseded operations

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould reset sync metadata and clear local data
[22m[39m[SYNC RESET] Starting full sync reset...

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould reset sync metadata and clear local data
[22m[39m[SYNC RESET] Current state: {
  lastSyncAt: [32m'2025-11-20T01:42:05.808Z'[39m,
  vectorClock: { [32m'device-123'[39m: [33m10[39m, [32m'device-456'[39m: [33m5[39m },
  pendingOps: [33m1[39m
}

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould reset sync metadata and clear local data
[22m[39m[SYNC RESET] Cleared sync queue

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould reset sync metadata and clear local data
[22m[39m[SYNC RESET] Cleared 1 local tasks

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould reset sync metadata and clear local data
[22m[39m[SYNC RESET] Reset sync metadata (lastSyncAt=0, vectorClock={})

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould reset sync metadata and clear local data
[22m[39m[SYNC RESET] Reset complete. Run sync() to pull all tasks from server.

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould preserve auth credentials
[22m[39m[SYNC RESET] Starting full sync reset...

 [32mâœ“[39m tests/data/sync/queue.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 176[2mms[22m[39m
[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould preserve auth credentials
[22m[39m[SYNC RESET] Current state: {
  lastSyncAt: [32m'2025-11-20T01:42:05.815Z'[39m,
  vectorClock: { [32m'device-123'[39m: [33m10[39m, [32m'device-456'[39m: [33m5[39m },
  pendingOps: [33m1[39m
}

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould preserve auth credentials
[22m[39m[SYNC RESET] Cleared sync queue

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould preserve auth credentials
[22m[39m[SYNC RESET] Cleared 1 local tasks

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould preserve auth credentials
[22m[39m[SYNC RESET] Reset sync metadata (lastSyncAt=0, vectorClock={})

[90mstdout[2m | tests/data/sync/config.test.ts[2m > [22m[2mSync Config[2m > [22m[2mresetAndFullSync[2m > [22m[2mshould preserve auth credentials
[22m[39m[SYNC RESET] Reset complete. Run sync() to pull all tasks from server.

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould prioritize user requests over auto in queue
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mpriority handling (user vs auto)[2m > [22m[2mshould prioritize user requests over auto in queue
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mcancelPending[2m > [22m[2mshould clear all pending requests
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mcancelPending[2m > [22m[2mshould clear all pending requests
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto
[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Queue size: 1
[SYNC COORDINATOR] Sync requested with priority: user
[SYNC COORDINATOR] Sync already running, queuing request
[SYNC COORDINATOR] Adding new queued request
[SYNC COORDINATOR] Deduplicating: keeping only user priority request
[SYNC COORDINATOR] Queue size: 1

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mcancelPending[2m > [22m[2mshould clear all pending requests
[22m[39m[SYNC COORDINATOR] Cancelling 1 pending requests

 [32mâœ“[39m tests/data/sync/config.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 144[2mms[22m[39m
[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mmerging create + updates into single create[2m > [22m[2mshould consolidate create and updates into single create with final state
[22m[39m[QUEUE OPTIMIZER] Consolidating 3 operations for task task1
[QUEUE OPTIMIZER] Consolidating create + 2 updates into single create

 [32mâœ“[39m tests/data/use-all-tags.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 248[2mms[22m[39m
[90mstdout[2m | tests/ui/encryption-passphrase-dialog.test.tsx[2m > [22m[2mEncryptionPassphraseDialog[2m > [22m[2mIssue #5: Timeout Cleanup - Memory Leak Prevention[2m > [22m[2mshould cleanup timeout on unmount to prevent memory leak
[22m[39m[SYNC] Queued 2 existing tasks for initial sync

 [32mâœ“[39m tests/ui/task-form.test.tsx [2m([22m[2m19 tests[22m[2m)[22m[33m 1538[2mms[22m[39m
[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mpreserving latest vector clock[2m > [22m[2mshould merge vector clocks from all consolidated operations
[22m[39m[QUEUE OPTIMIZER] Consolidating 3 operations for task task1
[QUEUE OPTIMIZER] Consolidating 3 updates into single update

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mconsolidateAll[2m > [22m[2mshould consolidate operations for all tasks and return count removed
[22m[39m[QUEUE OPTIMIZER] Starting consolidation of 4 operations

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mconsolidateAll[2m > [22m[2mshould consolidate operations for all tasks and return count removed
[22m[39m[QUEUE OPTIMIZER] Found 2 unique tasks in queue
[QUEUE OPTIMIZER] Tasks with multiple operations: [ [32m'task1: 2 ops'[39m, [32m'task2: 2 ops'[39m ]

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mconsolidateAll[2m > [22m[2mshould consolidate operations for all tasks and return count removed
[22m[39m[QUEUE OPTIMIZER] Consolidating 2 operations for task task1
[QUEUE OPTIMIZER] Consolidating 2 updates into single update

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mconsolidateAll[2m > [22m[2mshould consolidate operations for all tasks and return count removed
[22m[39m[QUEUE OPTIMIZER] Consolidating 2 operations for task task2
[QUEUE OPTIMIZER] Consolidating 2 updates into single update

[90mstdout[2m | tests/sync/queue-optimizer.test.ts[2m > [22m[2mQueueOptimizer[2m > [22m[2mconsolidateAll[2m > [22m[2mshould consolidate operations for all tasks and return count removed
[22m[39m[QUEUE OPTIMIZER] Consolidation complete: removed 2 operations (4 â†’ 2)

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mcancelPending[2m > [22m[2mshould clear all pending requests
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mcancelPending[2m > [22m[2mshould clear all pending requests
[22m[39m[SYNC COORDINATOR] No pending requests to process

 [32mâœ“[39m tests/sync/queue-optimizer.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 194[2mms[22m[39m
[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould return correct status when idle
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould return correct status when syncing
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould return correct status when syncing
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

[90mstderr[2m | tests/ui/save-smart-view-dialog.test.tsx[2m > [22m[2mSaveSmartViewDialog[2m > [22m[2mshows 'Saving...' text while saving
[22m[39mAn update to SaveSmartViewDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SaveSmartViewDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SaveSmartViewDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to SaveSmartViewDialog inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/ui/smart-view-selector.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 342[2mms[22m[39m
[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould return correct status when syncing
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould return correct status when syncing
[22m[39m[SYNC COORDINATOR] No pending requests to process

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould include last result in status
[22m[39m[SYNC COORDINATOR] Cancelling 0 pending requests

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould include last result in status
[22m[39m[SYNC COORDINATOR] Sync requested with priority: auto
[SYNC COORDINATOR] Starting sync execution with priority: auto

 [32mâœ“[39m tests/ui/bulk-actions-bar.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 216[2mms[22m[39m
[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return empty array when no tasks exist
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return empty array when no tasks exist
[22m[39m[TASK_CRUD] Listed tasks { count: [33m0[39m }

 [32mâœ“[39m tests/ui/save-smart-view-dialog.test.tsx [2m([22m[2m22 tests[22m[2m)[22m[33m 1988[2mms[22m[39m
     [33m[2mâœ“[22m[39m submits form with name, description, and icon [33m 304[2mms[22m[39m
[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return empty array when no tasks exist
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return all tasks ordered by createdAt descending
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return all tasks ordered by createdAt descending
[22m[39m[TASK_CRUD] Task created { taskId: [32m'gaoibSIYflqv'[39m, title: [32m'Task 1'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return all tasks ordered by createdAt descending
[22m[39m[TASK_CRUD] Task created { taskId: [32m'qx9GHVjVCKJq'[39m, title: [32m'Task 2'[39m }

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould include last result in status
[22m[39m[SYNC COORDINATOR] Sync completed: success

[90mstdout[2m | tests/sync/sync-coordinator.test.ts[2m > [22m[2mSyncCoordinator[2m > [22m[2mgetStatus[2m > [22m[2mshould include last result in status
[22m[39m[SYNC COORDINATOR] No pending requests to process

 [32mâœ“[39m tests/sync/sync-coordinator.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 2003[2mms[22m[39m
[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return all tasks ordered by createdAt descending
[22m[39m[TASK_CRUD] Task created { taskId: [32m'xkHY8pbxLz0-'[39m, title: [32m'Task 3'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return all tasks ordered by createdAt descending
[22m[39m[TASK_CRUD] Listed tasks { count: [33m3[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mlistTasks[2m > [22m[2mshould return all tasks ordered by createdAt descending
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create a task with all required fields
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create a task with all required fields
[22m[39m[TASK_CRUD] Task created { taskId: [32m'XYIr4-luQ5v1'[39m, title: [32m'New task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create a task with all required fields
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create task with tags and subtasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create task with tags and subtasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'izHdDWapy3pN'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create task with tags and subtasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create task with due date and recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create task with due date and recurrence
[22m[39m[TASK_CRUD] Task created { taskId: [32m'menJI7LVQB0f'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould create task with due date and recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould assign correct quadrant based on urgent and important flags
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould assign correct quadrant based on urgent and important flags
[22m[39m[TASK_CRUD] Task created { taskId: [32m'nI6b3XKZk3N4'[39m, title: [32m'true-true'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould assign correct quadrant based on urgent and important flags
[22m[39m[TASK_CRUD] Task created { taskId: [32m'mrwcgMHO8FLZ'[39m, title: [32m'false-true'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould assign correct quadrant based on urgent and important flags
[22m[39m[TASK_CRUD] Task created { taskId: [32m'FE7bZu_jLTF_'[39m, title: [32m'true-false'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould assign correct quadrant based on urgent and important flags
[22m[39m[TASK_CRUD] Task created { taskId: [32m'vFq1wpdnmL_y'[39m, title: [32m'false-false'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mcreateTask[2m > [22m[2mshould assign correct quadrant based on urgent and important flags
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m4[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update task fields
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update task fields
[22m[39m[TASK_CRUD] Task created { taskId: [32m'ztOU4oBx2zZh'[39m, title: [32m'Original'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update task fields
[22m[39m[TASK_CRUD] Task updated { taskId: [32m'ztOU4oBx2zZh'[39m, title: [32m'Updated'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update task fields
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update quadrant when urgent/important flags change
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update quadrant when urgent/important flags change
[22m[39m[TASK_CRUD] Task created { taskId: [32m'uHnD7E-2lCPS'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update quadrant when urgent/important flags change
[22m[39m[TASK_CRUD] Task updated { taskId: [32m'uHnD7E-2lCPS'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update quadrant when urgent/important flags change
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstderr[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] Task not found for update { taskId: [32m'nonexistent'[39m }
[TASK_CRUD] {
  timestamp: [32m'2025-11-20T02:42:06.219Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'TASK_CRUD'[39m,
  message: [32m'Failed to update task'[39m,
  metadata: {
    taskId: [32m'nonexistent'[39m,
    updates: { title: [32m'Updated'[39m },
    errorType: [32m'Error'[39m,
    errorMessage: [32m'Task nonexistent not found'[39m,
    stack: [32m'Error: Task nonexistent not found\n'[39m +
      [32m'    at updateTask (/Users/vinnycarpenter/Projects/gsd-taskmanager/lib/tasks/crud.ts:89:13)\n'[39m +
      [32m'    at runNextTicks (node:internal/process/task_queues:65:5)\n'[39m +
      [32m'    at processImmediate (node:internal/timers:453:9)\n'[39m +
      [32m'    at /Users/vinnycarpenter/Projects/gsd-taskmanager/tests/data/tasks.test.ts:168:7\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:753:20'[39m
  }
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update tags and subtasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update tags and subtasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'5U0RNFMoYH-s'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update tags and subtasks
[22m[39m[TASK_CRUD] Task updated { taskId: [32m'5U0RNFMoYH-s'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mupdateTask[2m > [22m[2mshould update tags and subtasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as completed
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as completed
[22m[39m[TASK_CRUD] Task created { taskId: [32m'-jRv6lGYm0VB'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as completed
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'-jRv6lGYm0VB'[39m, completed: [33mtrue[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as completed
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as incomplete
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as incomplete
[22m[39m[TASK_CRUD] Task created { taskId: [32m'bz_YcI4bEJ4L'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as incomplete
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'bz_YcI4bEJ4L'[39m, completed: [33mtrue[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as incomplete
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'bz_YcI4bEJ4L'[39m, completed: [33mfalse[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould mark task as incomplete
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould create new instance for recurring task when completed
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould create new instance for recurring task when completed
[22m[39m[TASK_CRUD] Task created { taskId: [32m'MMhTYv9-sKmy'[39m, title: [32m'Recurring task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould create new instance for recurring task when completed
[22m[39m[TASK_CRUD] Created recurring task instance {
  originalTaskId: [32m'MMhTYv9-sKmy'[39m,
  newTaskId: [32m'Qal0ECWJuQqw'[39m,
  recurrence: [32m'daily'[39m
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould create new instance for recurring task when completed
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'MMhTYv9-sKmy'[39m, completed: [33mtrue[39m, title: [32m'Recurring task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould create new instance for recurring task when completed
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould create new instance for recurring task when completed
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for daily recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for daily recurrence
[22m[39m[TASK_CRUD] Task created { taskId: [32m'BP_LA-HRbV_I'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for daily recurrence
[22m[39m[TASK_CRUD] Created recurring task instance {
  originalTaskId: [32m'BP_LA-HRbV_I'[39m,
  newTaskId: [32m'BtPpgBUdyYXV'[39m,
  recurrence: [32m'daily'[39m
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for daily recurrence
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'BP_LA-HRbV_I'[39m, completed: [33mtrue[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for daily recurrence
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for daily recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for weekly recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for weekly recurrence
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Qc8RRY-3Yq_1'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for weekly recurrence
[22m[39m[TASK_CRUD] Created recurring task instance {
  originalTaskId: [32m'Qc8RRY-3Yq_1'[39m,
  newTaskId: [32m'MtioF9wTQO33'[39m,
  recurrence: [32m'weekly'[39m
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for weekly recurrence
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'Qc8RRY-3Yq_1'[39m, completed: [33mtrue[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for weekly recurrence
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for weekly recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for monthly recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for monthly recurrence
[22m[39m[TASK_CRUD] Task created { taskId: [32m'h7Xm2-wMeT7v'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for monthly recurrence
[22m[39m[TASK_CRUD] Created recurring task instance {
  originalTaskId: [32m'h7Xm2-wMeT7v'[39m,
  newTaskId: [32m'xwl8mICKqUPr'[39m,
  recurrence: [32m'monthly'[39m
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for monthly recurrence
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'h7Xm2-wMeT7v'[39m, completed: [33mtrue[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for monthly recurrence
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould calculate next due date for monthly recurrence
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould reset subtasks to uncompleted in new recurring instance
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould reset subtasks to uncompleted in new recurring instance
[22m[39m[TASK_CRUD] Task created { taskId: [32m'YcSgZLw6vNg9'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould reset subtasks to uncompleted in new recurring instance
[22m[39m[TASK_CRUD] Created recurring task instance {
  originalTaskId: [32m'YcSgZLw6vNg9'[39m,
  newTaskId: [32m'ayMwNXhEihLG'[39m,
  recurrence: [32m'daily'[39m
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould reset subtasks to uncompleted in new recurring instance
[22m[39m[TASK_CRUD] Task completion toggled { taskId: [32m'YcSgZLw6vNg9'[39m, completed: [33mtrue[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould reset subtasks to uncompleted in new recurring instance
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould push pending operations to server
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'2enYA1XXBLDm'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould push pending operations to server
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould reset subtasks to uncompleted in new recurring instance
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould push pending operations to server
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstderr[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] Task not found for completion toggle { taskId: [32m'nonexistent'[39m }
[TASK_CRUD] {
  timestamp: [32m'2025-11-20T02:42:06.296Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'TASK_CRUD'[39m,
  message: [32m'Failed to toggle task completion'[39m,
  metadata: {
    taskId: [32m'nonexistent'[39m,
    completed: [33mtrue[39m,
    errorType: [32m'Error'[39m,
    errorMessage: [32m'Task nonexistent not found'[39m,
    stack: [32m'Error: Task nonexistent not found\n'[39m +
      [32m'    at toggleCompleted (/Users/vinnycarpenter/Projects/gsd-taskmanager/lib/tasks/crud.ts:218:13)\n'[39m +
      [32m'    at runNextTicks (node:internal/process/task_queues:65:5)\n'[39m +
      [32m'    at processImmediate (node:internal/timers:453:9)\n'[39m +
      [32m'    at /Users/vinnycarpenter/Projects/gsd-taskmanager/tests/data/tasks.test.ts:308:7\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:753:20'[39m
  }
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mtoggleCompleted[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould delete task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould delete task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'caHAXtEspqjc'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould delete task
[22m[39m[TASK_CRUD] Listed tasks { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould delete task
[22m[39m[TASK_CRUD] Task deleted { taskId: [32m'caHAXtEspqjc'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould delete task
[22m[39m[TASK_CRUD] Listed tasks { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould delete task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould encrypt task payloads before pushing
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'Nx_nBX-qcLXK'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould not throw error when deleting non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould encrypt task payloads before pushing
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould not throw error when deleting non-existent task
[22m[39m[TASK_CRUD] Task already deleted or does not exist { taskId: [32m'nonexistent'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould encrypt task payloads before pushing
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mdeleteTask[2m > [22m[2mshould not throw error when deleting non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould move task to different quadrant
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould move task to different quadrant
[22m[39m[TASK_CRUD] Task created { taskId: [32m'VkKJaWbpqyUz'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould move task to different quadrant
[22m[39m[TASK_CRUD] Task moved to quadrant {
  taskId: [32m'VkKJaWbpqyUz'[39m,
  title: [32m'Test task'[39m,
  fromQuadrant: [32m'urgent-important'[39m,
  toQuadrant: [32m'not-urgent-important'[39m
}

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould include encrypted blob and nonce in operations
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'E4WXSv8FCegu'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould include encrypted blob and nonce in operations
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould move task to different quadrant
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould include encrypted blob and nonce in operations
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstderr[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] Task not found for quadrant move { taskId: [32m'nonexistent'[39m }
[TASK_CRUD] {
  timestamp: [32m'2025-11-20T02:42:06.317Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'TASK_CRUD'[39m,
  message: [32m'Failed to move task to quadrant'[39m,
  metadata: {
    taskId: [32m'nonexistent'[39m,
    targetQuadrant: [32m'urgent-important'[39m,
    errorType: [32m'Error'[39m,
    errorMessage: [32m'Task nonexistent not found'[39m,
    stack: [32m'Error: Task nonexistent not found\n'[39m +
      [32m'    at moveTaskToQuadrant (/Users/vinnycarpenter/Projects/gsd-taskmanager/lib/tasks/crud.ts:324:13)\n'[39m +
      [32m'    at runNextTicks (node:internal/process/task_queues:65:5)\n'[39m +
      [32m'    at processImmediate (node:internal/timers:453:9)\n'[39m +
      [32m'    at /Users/vinnycarpenter/Projects/gsd-taskmanager/tests/data/tasks.test.ts:345:7\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:753:20'[39m
  }
}

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mmoveTaskToQuadrant[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2maddSubtask[2m > [22m[2mshould add subtask to task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2maddSubtask[2m > [22m[2mshould add subtask to task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'cKV6gLpbDvN9'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2maddSubtask[2m > [22m[2mshould add subtask to task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2maddSubtask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2maddSubtask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mtoggleSubtask[2m > [22m[2mshould toggle subtask completion
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mtoggleSubtask[2m > [22m[2mshould toggle subtask completion
[22m[39m[TASK_CRUD] Task created { taskId: [32m'8t1k1k3a0Yg-'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mtoggleSubtask[2m > [22m[2mshould toggle subtask completion
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mtoggleSubtask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mtoggleSubtask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould pull tasks from server and save to local database
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould pull tasks from server and save to local database
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'remote-task-1'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.344Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould pull tasks from server and save to local database
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'remote-task-1'[39m, title: [32m'Remote Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mdeleteSubtask[2m > [22m[2mshould delete subtask from task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould pull tasks from server and save to local database
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'remote-task-1'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould pull tasks from server and save to local database
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'remote-task-1'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mdeleteSubtask[2m > [22m[2mshould delete subtask from task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'9hZ2hC2wFn0U'[39m, title: [32m'Test task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mdeleteSubtask[2m > [22m[2mshould delete subtask from task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mdeleteSubtask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould send vector clocks with operations
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'k3yYFxpHUvwe'[39m }
  ]
}
[SYNC_PUSH] Preparing operation {
  operation: [32m'create'[39m,
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-456'[39m: [33m3[39m }
}

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould send vector clocks with operations
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould send vector clocks with operations
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mSubtask operations[2m > [22m[2mdeleteSubtask[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould decrypt encrypted task blobs
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould decrypt encrypted task blobs
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'encrypted-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.359Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould decrypt encrypted task blobs
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'decrypted-task'[39m, title: [32m'Test Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould decrypt encrypted task blobs
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'decrypted-task'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'kmn9lHVLTo5j'[39m, title: [32m'Task 1'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould decrypt encrypted task blobs
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'decrypted-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'7vRGhn5Ro29a'[39m, title: [32m'Task 2'[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m0[39m }

[90mstdout[2m | tests/data/tasks.test.ts[2m > [22m[2mTask CRUD operations[2m > [22m[2mclearTasks[2m > [22m[2mshould clear all tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould handle delete operations without payload
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'delete'[39m, taskId: [32m'task-1'[39m, queueId: [32m'-gxAlAb_DW9j'[39m }
  ]
}
[SYNC_PUSH] Preparing operation {
  operation: [32m'delete'[39m,
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-456'[39m: [33m2[39m }
}

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould handle delete operations without payload
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

 [32mâœ“[39m tests/data/tasks.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 249[2mms[22m[39m
[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould merge vector clocks when saving tasks
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould merge vector clocks when saving tasks
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-2'[39m: [33m2[39m },
  updatedAt: [32m'2025-11-20T02:42:06.364Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould merge vector clocks when saving tasks
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-1'[39m, title: [32m'Test Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould merge vector clocks when saving tasks
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'task-1'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould merge vector clocks when saving tasks
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-1'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould handle delete operations without payload
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mlocal-to-remote sync flow[2m > [22m[2mshould return early when no pending operations
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m0[39m }
[SYNC_PUSH] No pending operations, skipping push 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m3[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.371Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-1'[39m, title: [32m'Task 1'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'task-1'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-1'[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-2'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.371Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-2'[39m, title: [32m'Task 2'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'task-2'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-2'[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-3'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.371Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-3'[39m, title: [32m'Task 3'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'task-3'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mremote-to-local sync flow[2m > [22m[2mshould handle multiple tasks in single pull
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-3'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m3[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m3[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould batch multiple operations in single push
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m3[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'update'[39m, taskId: [32m'task-2'[39m, queueId: [32m'rzqPoDmdDhgD'[39m },
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'zOVVkEvOdYUJ'[39m },
    { operation: [32m'delete'[39m, taskId: [32m'task-3'[39m, queueId: [32m'SzG51WWQNfhd'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-2'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould batch multiple operations in single push
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould batch multiple operations in single push
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'delete'[39m, taskId: [32m'task-3'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould batch multiple operations in single push
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m3[39m, acceptedTaskIds: [ [32m'task-1'[39m, [32m'task-2'[39m, [32m'task-3'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould batch multiple operations in single push
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould send lastSyncAt timestamp to API
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [33m1763606466379[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould send lastSyncAt timestamp to API
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould handle multiple operations for same task
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m2[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, queueId: [32m'3Rb5M-EFocV6'[39m },
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'wNhVPtzv83f-'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould handle multiple operations for same task
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould handle multiple operations for same task
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m2[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould send vector clock to API
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould send vector clock to API
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould handle multiple operations for same task
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould omit sinceTimestamp when lastSyncAt is null
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould omit sinceTimestamp when lastSyncAt is null
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould remove all queue items for accepted tasks
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m2[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'kTUW5NYfRJrk'[39m },
    { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, queueId: [32m'xd9g96dl3-Ui'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould remove all queue items for accepted tasks
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould remove all queue items for accepted tasks
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m2[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mchange detection and batching[2m > [22m[2mshould remove all queue items for accepted tasks
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould use limit parameter for pagination
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mincremental pull with timestamps[2m > [22m[2mshould use limit parameter for pagination
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould increment retry count for rejected operations
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'iOyZ5O8WXXhd'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould increment retry count for rejected operations
[22m[39m[SYNC_PUSH] Operation rejected {
  rejection: {
    taskId: [32m'task-1'[39m,
    reason: [32m'validation_error'[39m,
    details: [32m'Invalid task data'[39m
  }
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when remote is newer
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when remote is newer
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'conflict-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.398Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when remote is newer
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'conflict-task'[39m, title: [32m'Remote Version'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when remote is newer
[22m[39m[SYNC_PULL] Found local version of task {
  taskId: [32m'conflict-task'[39m,
  localUpdatedAt: [32m'2025-11-20T02:42:01.398Z'[39m,
  remoteUpdatedAt: [32m'2025-11-20T02:42:06.398Z'[39m
}
[SYNC_PULL] Applying remote version (newer or equal) { taskId: [32m'conflict-task'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould increment retry count for rejected operations
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when remote is newer
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'conflict-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould keep rejected operations in queue
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'leD15nsLaeLk'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould keep rejected operations in queue
[22m[39m[SYNC_PUSH] Operation rejected {
  rejection: {
    taskId: [32m'task-1'[39m,
    reason: [32m'version_mismatch'[39m,
    details: [32m'Version conflict'[39m
  }
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould keep local version when local is newer
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould keep local version when local is newer
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'conflict-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:01.406Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould keep local version when local is newer
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'conflict-task'[39m, title: [32m'Remote Version'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould keep rejected operations in queue
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould keep local version when local is newer
[22m[39m[SYNC_PULL] Found local version of task {
  taskId: [32m'conflict-task'[39m,
  localUpdatedAt: [32m'2025-11-20T02:42:06.406Z'[39m,
  remoteUpdatedAt: [32m'2025-11-20T02:42:01.406Z'[39m
}
[SYNC_PULL] Keeping local version (newer) { taskId: [32m'conflict-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when timestamps are equal
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when timestamps are equal
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'conflict-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.412Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when timestamps are equal
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'conflict-task'[39m, title: [32m'Remote Version'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when timestamps are equal
[22m[39m[SYNC_PULL] Found local version of task {
  taskId: [32m'conflict-task'[39m,
  localUpdatedAt: [32m'2025-11-20T02:42:06.412Z'[39m,
  remoteUpdatedAt: [32m'2025-11-20T02:42:06.412Z'[39m
}
[SYNC_PULL] Applying remote version (newer or equal) { taskId: [32m'conflict-task'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould apply remote version when timestamps are equal
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'conflict-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould throw error when push API call fails
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'2J6J6m5s74fv'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould create new task when no local version exists
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould create new task when no local version exists
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'new-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.418Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould create new task when no local version exists
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'new-task'[39m, title: [32m'New Remote Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould create new task when no local version exists
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'new-task'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mconflict detection during pull[2m > [22m[2mshould create new task when no local version exists
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'new-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mpush retry on failure[2m > [22m[2mshould not remove operations when push fails
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'Q5wGlzu3ffhv'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould update existing tasks
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould update existing tasks
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'existing-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.423Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould update existing tasks
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'existing-task'[39m, title: [32m'New Title'[39m, completed: [33mtrue[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould update existing tasks
[22m[39m[SYNC_PULL] Found local version of task {
  taskId: [32m'existing-task'[39m,
  localUpdatedAt: [32m'2025-11-20T02:41:56.423Z'[39m,
  remoteUpdatedAt: [32m'2025-11-20T02:42:06.423Z'[39m
}
[SYNC_PULL] Applying remote version (newer or equal) { taskId: [32m'existing-task'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould update existing tasks
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'existing-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add a dependency to a task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove conflicted operations from queue
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, queueId: [32m'ZFevZ1uUpTzK'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove conflicted operations from queue
[22m[39m[SYNC_PUSH] Removing conflicted operations from queue { conflictedCount: [33m1[39m, conflictedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove conflicted operations from queue
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add a dependency to a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'FY8O0Sda62_X'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add a dependency to a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'p1mhMfEb8K5e'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould handle task deletions
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould handle task deletions
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Deleting tasks { deleteCount: [33m2[39m, taskIds: [ [32m'task-1'[39m, [32m'task-3'[39m ] }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould handle task deletions
[22m[39m[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m2[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add a dependency to a task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add multiple dependencies to a task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould normalize token expiration from seconds to milliseconds
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould normalize token expiration from seconds to milliseconds
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould handle multiple conflicts
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m2[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, queueId: [32m'TYQCBXpZuxI1'[39m },
    { operation: [32m'update'[39m, taskId: [32m'task-2'[39m, queueId: [32m'qLSXmQhi1SJl'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould handle multiple conflicts
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-2'[39m, vectorClock: {} }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add multiple dependencies to a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'eZxtMcmhmlL6'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould handle multiple conflicts
[22m[39m[SYNC_PUSH] Removing conflicted operations from queue { conflictedCount: [33m2[39m, conflictedTaskIds: [ [32m'task-1'[39m, [32m'task-2'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould handle multiple conflicts
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould normalize token expiration from seconds to milliseconds
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould normalize token expiration from seconds to milliseconds
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould normalize token expiration from seconds to milliseconds
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould normalize token expiration from seconds to milliseconds
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add multiple dependencies to a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'6hLba0sKAmYq'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add multiple dependencies to a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'eM0aCI9mLWGI'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould handle bulk deletions
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould handle bulk deletions
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Deleting tasks {
  deleteCount: [33m5[39m,
  taskIds: [ [32m'task-1'[39m, [32m'task-3'[39m, [32m'task-5'[39m, [32m'task-7'[39m, [32m'task-9'[39m ]
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould handle bulk deletions
[22m[39m[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m5[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove all queue items for conflicted tasks
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m2[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'DGv2yQWhC6A3'[39m },
    { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, queueId: [32m'R7vgJSirec2_'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove all queue items for conflicted tasks
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould add multiple dependencies to a task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove all queue items for conflicted tasks
[22m[39m[SYNC_PUSH] Removing conflicted operations from queue { conflictedCount: [33m2[39m, conflictedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mconflict handling[2m > [22m[2mshould remove all queue items for conflicted tasks
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould not add duplicate dependencies
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould remove accepted operations from queue immediately
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'pmL9elnpZo-p'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould remove accepted operations from queue immediately
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould not add duplicate dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'VWdZVxRdNEWe'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould preserve local vector clock when merging
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould preserve local vector clock when merging
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m1[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-2'[39m: [33m5[39m },
  updatedAt: [32m'2025-11-20T02:42:06.454Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould preserve local vector clock when merging
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-1'[39m, title: [32m'Test Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould preserve local vector clock when merging
[22m[39m[SYNC_PULL] Found local version of task {
  taskId: [32m'task-1'[39m,
  localUpdatedAt: [32m'2025-11-20T02:41:56.453Z'[39m,
  remoteUpdatedAt: [32m'2025-11-20T02:42:06.454Z'[39m
}
[SYNC_PULL] Applying remote version (newer or equal) { taskId: [32m'task-1'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould remove accepted operations from queue immediately
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould not add duplicate dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'GKdtf2qiMzhm'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mlocal database updates[2m > [22m[2mshould preserve local vector clock when merging
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-1'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m1[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m1[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould not add duplicate dependencies
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould throw error when API pull fails
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m3[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-2'[39m, queueId: [32m'rNxi4EJ7hFWF'[39m },
    { operation: [32m'create'[39m, taskId: [32m'task-3'[39m, queueId: [32m'vKJWp1GY0lqe'[39m },
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'xBGI2HKvKj-3'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-2'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-3'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m2[39m, acceptedTaskIds: [ [32m'task-1'[39m, [32m'task-3'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m1[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Operation rejected {
  rejection: {
    taskId: [32m'task-2'[39m,
    reason: [32m'validation_error'[39m,
    details: [32m'Invalid data'[39m
  }
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould handle partial acceptance
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m3[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.463Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Processing task {
  taskId: [32m'task-2'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.463Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-2'[39m, title: [32m'Task 2'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'task-2'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould verify queue cleanup after acceptance
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'Jtv9cUKqVYKf'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-2'[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-3'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.463Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'task-3'[39m, title: [32m'Task 3'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould verify queue cleanup after acceptance
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'task-3'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould update vector clock when adding dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2moptimistic updates[2m > [22m[2mshould verify queue cleanup after acceptance
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing other tasks when one fails decryption
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'task-3'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m3[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m3[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould update vector clock when adding dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'_j7hRXQmVTXB'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould update vector clock when adding dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'ablTZI_UP-dC'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould update vector clock when adding dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould keep token expiration unchanged if already in milliseconds
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould keep token expiration unchanged if already in milliseconds
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when task validation fails
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when task validation fails
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m2[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'invalid-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.469Z'[39m
}

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould keep token expiration unchanged if already in milliseconds
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould keep token expiration unchanged if already in milliseconds
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould keep token expiration unchanged if already in milliseconds
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould keep token expiration unchanged if already in milliseconds
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when task validation fails
[22m[39m[SYNC_PULL] Processing task {
  taskId: [32m'valid-task'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.469Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when task validation fails
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'valid-task'[39m, title: [32m'Test Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when task validation fails
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'valid-task'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when encryption fails for one task
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m2[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'AhhinaLnb0fB'[39m },
    { operation: [32m'create'[39m, taskId: [32m'task-2'[39m, queueId: [32m'FtpQlZEIvRVk'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when encryption fails for one task
[22m[39m[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-2'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when encryption fails for one task
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-2'[39m ] }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when task validation fails
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'valid-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m2[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m2[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when encryption fails for one task
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m1[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould continue processing when encryption fails for one task
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould preserve existing task properties when adding dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould preserve existing task properties when adding dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'4rU5RxHBxjyP'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould preserve existing task properties when adding dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'i1egKOgRhj9n'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle empty accepted array
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'omlT7a1UJ4v1'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle empty accepted array
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle empty pull response
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle empty pull response
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2maddDependency[2m > [22m[2mshould preserve existing task properties when adding dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove a dependency from a task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle server accepting unknown task ID
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'rtNH2JeeKG2u'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle server accepting unknown task ID
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m, [32m'unknown-task'[39m ] }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m2[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-1'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.483Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'decrypted-task'[39m, title: [32m'Test Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2merror handling[2m > [22m[2mshould handle server accepting unknown task ID
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Creating new task from remote { taskId: [32m'decrypted-task'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove a dependency from a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'MY3Z7jkyTP6a'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (seconds)
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (seconds)
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'decrypted-task'[39m }
[SYNC_PULL] Processing task {
  taskId: [32m'task-2'[39m,
  vectorClock: { [32m'device-456'[39m: [33m1[39m },
  updatedAt: [32m'2025-11-20T02:42:06.483Z'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Task decrypted { taskId: [32m'decrypted-task'[39m, title: [32m'Test Task'[39m, completed: [33mfalse[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Found local version of task {
  taskId: [32m'decrypted-task'[39m,
  localUpdatedAt: [32m'2025-11-20T02:42:06.483Z'[39m,
  remoteUpdatedAt: [32m'2025-11-20T02:42:06.484Z'[39m
}
[SYNC_PULL] Applying remote version (newer or equal) { taskId: [32m'decrypted-task'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove a dependency from a task
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Wn4k2DtWPcID'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return pull result with task count
[22m[39m[SYNC_PULL] Task saved successfully { taskId: [32m'decrypted-task'[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m2[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m2[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (seconds)
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (seconds)
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (seconds)
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (seconds)
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove a dependency from a task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return deleted task IDs
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return deleted task IDs
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Deleting tasks { deleteCount: [33m3[39m, taskIds: [ [32m'task-1'[39m, [32m'task-2'[39m, [32m'task-3'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return push response with accepted tasks
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'6W7SJ1JEa2H9'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return deleted task IDs
[22m[39m[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m3[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return push response with accepted tasks
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return push response with accepted tasks
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove only the specified dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove only the specified dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'kDgW5I6JS0ZW'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould resolve conflict by choosing remote when remote is newer
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-1'[39m,
  localTime: [32m'2025-11-20T02:42:05.488Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:06.488Z'[39m,
  winner: [32m'remote'[39m
}

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return server vector clock
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return server vector clock
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove only the specified dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'srX-QkFcKO7u'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove only the specified dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'PhN67YDCWlZd'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return rejected operations
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'xdhVVk2jrlbV'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return rejected operations
[22m[39m[SYNC_PUSH] Operation rejected {
  rejection: {
    taskId: [32m'task-1'[39m,
    reason: [32m'validation_error'[39m,
    details: [32m'Invalid data'[39m
  }
}

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return rejected operations
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (milliseconds)
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (milliseconds)
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return conflicts array
[22m[39m[SYNC_PULL] Starting pull phase { deviceId: [32m'device-456'[39m, sinceTimestamp: [1mnull[22m }

[90mstdout[2m | tests/sync/pull-handler.test.ts[2m > [22m[2mpullRemoteChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return conflicts array
[22m[39m[SYNC_PULL] Processing tasks from server { taskCount: [33m0[39m }
[SYNC_PULL] Finished processing tasks { processedCount: [33m0[39m }
[SYNC_PULL] Pull phase complete { tasksProcessed: [33m0[39m, tasksDeleted: [33m0[39m, conflictsCount: [33m0[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (milliseconds)
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (milliseconds)
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (milliseconds)
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mIssue #2: Token Expiration Normalization[2m > [22m[2mshould handle threshold boundary correctly (milliseconds)
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould remove only the specified dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

 [32mâœ“[39m tests/sync/pull-handler.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 164[2mms[22m[39m
[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould resolve conflict by choosing local when local is newer
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-2'[39m,
  localTime: [32m'2025-11-20T02:42:06.496Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:04.496Z'[39m,
  winner: [32m'local'[39m
}

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return conflicts
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, queueId: [32m'ykuJSLCNljy-'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'update'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return conflicts
[22m[39m[SYNC_PUSH] Removing conflicted operations from queue { conflictedCount: [33m1[39m, conflictedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould handle removing non-existent dependency gracefully
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return conflicts
[22m[39m[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould handle removing non-existent dependency gracefully
[22m[39m[TASK_CRUD] Task created { taskId: [32m'mheEd9mU-xzw'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould process OAuth handshake success event
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould process OAuth handshake success event
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould handle removing non-existent dependency gracefully
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould process OAuth handshake success event
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould process OAuth handshake success event
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould process OAuth handshake success event
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould process OAuth handshake success event
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return server vector clock
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m1[39m }
[SYNC_PUSH] Pending operations {
  operations: [
    { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, queueId: [32m'tWJvNSigX9q9'[39m }
  ]
}
[SYNC_PUSH] Preparing operation { operation: [32m'create'[39m, taskId: [32m'task-1'[39m, vectorClock: {} }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return server vector clock
[22m[39m[SYNC_PUSH] Removing accepted operations from queue { queueIdsCount: [33m1[39m, acceptedTaskIds: [ [32m'task-1'[39m ] }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return server vector clock
[22m[39m[SYNC_PUSH] Queue cleanup complete { remainingCount: [33m0[39m }
[SYNC_PUSH] Push phase complete 

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould merge vector clocks when resolving conflict
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-3'[39m,
  localTime: [32m'2025-11-20T02:42:06.505Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:05.505Z'[39m,
  winner: [32m'local'[39m
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould throw error for non-existent task
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/push-handler.test.ts[2m > [22m[2mpushLocalChanges[2m > [22m[2mreturn value[2m > [22m[2mshould return empty result when no operations
[22m[39m[SYNC_PUSH] Starting push phase { pendingCount: [33m0[39m }
[SYNC_PUSH] No pending operations, skipping push 

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould store sync config in IndexedDB with correct fields
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'apple'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould store sync config in IndexedDB with correct fields
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update vector clock when removing dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould store sync config in IndexedDB with correct fields
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould store sync config in IndexedDB with correct fields
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 [32mâœ“[39m tests/sync/push-handler.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 235[2mms[22m[39m
[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould store sync config in IndexedDB with correct fields
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould store sync config in IndexedDB with correct fields
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould resolve multiple conflicts in batch
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-a'[39m,
  localTime: [32m'2025-11-20T02:42:06.509Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:05.509Z'[39m,
  winner: [32m'local'[39m
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update vector clock when removing dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'XO57gfiqZS0N'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould resolve multiple conflicts in batch
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-b'[39m,
  localTime: [32m'2025-11-20T02:42:04.509Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:06.509Z'[39m,
  winner: [32m'remote'[39m
}

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould resolve multiple conflicts in batch
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-c'[39m,
  localTime: [32m'2025-11-20T02:42:06.509Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:06.009Z'[39m,
  winner: [32m'local'[39m
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update vector clock when removing dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'HfNSAAWRfHjW'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update vector clock when removing dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption dialog for new users
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: {
  state: [32m'test-sta...'[39m,
  email: [32m'new-user@example.com'[39m,
  provider: [32m'google'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption dialog for new users
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption dialog for new users
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'new-user@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption dialog for new users
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption dialog for new users
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption dialog for new users
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update updatedAt timestamp when removing dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update updatedAt timestamp when removing dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'gjfgwYKaU6Z3'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update updatedAt timestamp when removing dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'YeeHNTbgenpf'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mautoResolveConflicts - Last-Write-Wins strategy[2m > [22m[2mshould handle conflicts with identical timestamps by choosing remote
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-4'[39m,
  localTime: [32m'2025-11-20T02:42:06.528Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:06.528Z'[39m,
  winner: [32m'local'[39m
}

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption unlock dialog for existing users without local encryption
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: {
  state: [32m'test-sta...'[39m,
  email: [32m'existing@example.com'[39m,
  provider: [32m'google'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption unlock dialog for existing users without local encryption
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption unlock dialog for existing users without local encryption
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'existing@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption unlock dialog for existing users without local encryption
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption unlock dialog for existing users without local encryption
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould show encryption unlock dialog for existing users without local encryption
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould handle OAuth handshake errors
[22m[39m[OAuthCallbackHandler] OAuth handshake error: { state: [32m'test-sta...'[39m, error: [32m'Authentication failed'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependency[2m > [22m[2mshould update updatedAt timestamp when removing dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mconflict detection logic[2m > [22m[2mshould handle database errors gracefully
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-7'[39m,
  localTime: [32m'2025-11-20T02:42:06.543Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:05.543Z'[39m,
  winner: [32m'local'[39m
}

 [32mâœ“[39m tests/ui/task-card.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[32m 185[2mms[22m[39m
[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mOAuth Flow[2m > [22m[2mshould handle OAuth handshake errors with generic message
[22m[39m[OAuthCallbackHandler] OAuth handshake error: { state: [32m'test-sta...'[39m, error: [1mnull[22m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould remove task from all other tasks dependencies
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould remove task from all other tasks dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'xAOw7tBkupgo'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould remove task from all other tasks dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'HGJ0oOBuMify'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould remove task from all other tasks dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'jnEBMi8y-e_N'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mconflict detection logic[2m > [22m[2mshould continue resolving after individual failure
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-9'[39m,
  localTime: [32m'2025-11-20T02:42:06.553Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:05.553Z'[39m,
  winner: [32m'local'[39m
}

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use localhost URL in development
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use localhost URL in development
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use localhost URL in development
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'http://localhost:8787'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use localhost URL in development
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use localhost URL in development
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use localhost URL in development
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould remove task from all other tasks dependencies
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle task with no references gracefully
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle task with no references gracefully
[22m[39m[TASK_CRUD] Task created { taskId: [32m'vL7R0B7ef5hC'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle task with no references gracefully
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use window origin in production
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use window origin in production
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use window origin in production
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'https://gsd.vinny.dev'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use window origin in production
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use window origin in production
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould use window origin in production
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould only remove specified task from dependencies
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould only remove specified task from dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'FFMFwTvkj6Dw'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould only remove specified task from dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Qvwo9ziECuf2'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould only remove specified task from dependencies
[22m[39m[TASK_CRUD] Task created { taskId: [32m'jw30WcWT0Uad'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould preserve existing serverUrl if already configured
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould preserve existing serverUrl if already configured
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould only remove specified task from dependencies
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould preserve existing serverUrl if already configured
[22m[39m[OAuthCallbackHandler] Stored sync config in IndexedDB: {
  userId: [32m'user123'[39m,
  email: [32m'test@example.com'[39m,
  serverUrl: [32m'https://custom-server.com'[39m
}

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould preserve existing serverUrl if already configured
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould preserve existing serverUrl if already configured
[22m[39m[OAuthCallbackHandler] Showing encryption setup dialog (new user)

[90mstderr[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mServer URL Detection[2m > [22m[2mshould preserve existing serverUrl if already configured
[22m[39mAn update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to OAuthCallbackHandler inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle multiple tasks with same dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle multiple tasks with same dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'q7HZukDgCG1l'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle multiple tasks with same dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Oiw4TUxttPVw'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle multiple tasks with same dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'DFDq4B77dD00'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle multiple tasks with same dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'BRmi6LA_zfeY'[39m, title: [32m'Task D'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould handle multiple tasks with same dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m4[39m }

[90mstdout[2m | tests/ui/oauth-callback-handler.test.tsx[2m > [22m[2mOAuthCallbackHandler[2m > [22m[2mError Handling[2m > [22m[2mshould handle database errors gracefully
[22m[39m[OAuthCallbackHandler] Processing OAuth handshake result: { state: [32m'test-sta...'[39m, email: [32m'test@example.com'[39m, provider: [32m'google'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould not affect tasks without the dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould not affect tasks without the dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'tJUhYtUjkh2I'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould not affect tasks without the dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'ylGO_nBLz4My'[39m, title: [32m'Task B'[39m }

 [32mâœ“[39m tests/ui/oauth-callback-handler.test.tsx [2m([22m[2m17 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[32m 172[2mms[22m[39m
[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould not affect tasks without the dependency
[22m[39m[TASK_CRUD] Task created { taskId: [32m'PHIKTJjrrQdd'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mremoveDependencyReferences[2m > [22m[2mshould not affect tasks without the dependency
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle complex dependency chain cleanup
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle complex dependency chain cleanup
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Vik0o_J3ejPL'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mconflict resolution with task data[2m > [22m[2mshould preserve all task fields from winner
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-10'[39m,
  localTime: [32m'2025-11-20T02:42:05.604Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:06.604Z'[39m,
  winner: [32m'remote'[39m
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle complex dependency chain cleanup
[22m[39m[TASK_CRUD] Task created { taskId: [32m'fnj1GsOAstki'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle complex dependency chain cleanup
[22m[39m[TASK_CRUD] Task created { taskId: [32m'wnpbLPggmQn9'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle complex dependency chain cleanup
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Uq1MIykWDEca'[39m, title: [32m'Task D'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mensureValidToken()[2m > [22m[2mshould return true without refresh when token is valid
[22m[39m[SYNC_TOKEN] Token is valid, no refresh needed 

[90mstdout[2m | tests/sync/sync-conflict-resolution.test.ts[2m > [22m[2mConflict Resolution[2m > [22m[2mconflict resolution with task data[2m > [22m[2mshould handle conflicts with subtasks
[22m[39m[SYNC_CONFLICT] Resolving conflict {
  taskId: [32m'task-11'[39m,
  localTime: [32m'2025-11-20T02:42:05.607Z'[39m,
  remoteTime: [32m'2025-11-20T02:42:06.607Z'[39m,
  winner: [32m'remote'[39m
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle complex dependency chain cleanup
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m4[39m }

 [32mâœ“[39m tests/sync/sync-conflict-resolution.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 133[2mms[22m[39m
[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mensureValidToken()[2m > [22m[2mshould refresh token when it expires within 5 minutes
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mensureValidToken()[2m > [22m[2mshould refresh token when it expires within 5 minutes
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'2025-11-20T03:42:06.609Z'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle adding and removing same dependency multiple times
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle adding and removing same dependency multiple times
[22m[39m[TASK_CRUD] Task created { taskId: [32m'S7CnZXKjHjY4'[39m, title: [32m'Task A'[39m }

 [32mâœ“[39m tests/ui/filter-bar.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[32m 150[2mms[22m[39m
[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle adding and removing same dependency multiple times
[22m[39m[TASK_CRUD] Task created { taskId: [32m'--W4-5uxNp89'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mensureValidToken()[2m > [22m[2mshould return false when token refresh fails
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould handle adding and removing same dependency multiple times
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstderr[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mensureValidToken()[2m > [22m[2mshould return false when token refresh fails
[22m[39m[SYNC_TOKEN] {
  timestamp: [32m'2025-11-20T02:42:06.629Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_TOKEN'[39m,
  message: [32m'Token refresh failed'[39m,
  metadata: {
    errorType: [32m'Error'[39m,
    errorMessage: [32m'Refresh failed'[39m,
    stack: [32m'Error: Refresh failed\n'[39m +
      [32m'    at /Users/vinnycarpenter/Projects/gsd-taskmanager/tests/sync/token-manager.test.ts:264:46\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:753:20'[39m
  }
}

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mhandleUnauthorized()[2m > [22m[2mshould return false when sync is not configured
[22m[39m[SYNC_TOKEN] Handling 401 Unauthorized error 

[90mstderr[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mhandleUnauthorized()[2m > [22m[2mshould return false when sync is not configured
[22m[39m[SYNC_TOKEN] {
  timestamp: [32m'2025-11-20T02:42:06.631Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_TOKEN'[39m,
  message: [32m'Cannot refresh token: sync not configured'[39m,
  metadata: { errorType: [90mundefined[39m, errorMessage: [90mundefined[39m, stack: [90mundefined[39m }
}

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould maintain dependency integrity across operations
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mhandleUnauthorized()[2m > [22m[2mshould attempt token refresh on 401 error
[22m[39m[SYNC_TOKEN] Handling 401 Unauthorized error 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould maintain dependency integrity across operations
[22m[39m[TASK_CRUD] Task created { taskId: [32m'yHqrQrSs4d4U'[39m, title: [32m'Task A'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mhandleUnauthorized()[2m > [22m[2mshould attempt token refresh on 401 error
[22m[39m[SYNC_TOKEN] Token refreshed after 401 error { expiresAt: [32m'2025-11-20T03:42:06.633Z'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould maintain dependency integrity across operations
[22m[39m[TASK_CRUD] Task created { taskId: [32m'V1ywNhMEsc8u'[39m, title: [32m'Task B'[39m }

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould maintain dependency integrity across operations
[22m[39m[TASK_CRUD] Task created { taskId: [32m'84ouudP36wKR'[39m, title: [32m'Task C'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mhandleUnauthorized()[2m > [22m[2mshould return false when refresh fails after 401
[22m[39m[SYNC_TOKEN] Handling 401 Unauthorized error 

[90mstdout[2m | tests/data/task-dependencies.test.ts[2m > [22m[2mTask Dependency CRUD Operations[2m > [22m[2mIntegration scenarios[2m > [22m[2mshould maintain dependency integrity across operations
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m3[39m }

[90mstderr[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mhandleUnauthorized()[2m > [22m[2mshould return false when refresh fails after 401
[22m[39m[SYNC_TOKEN] {
  timestamp: [32m'2025-11-20T02:42:06.648Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_TOKEN'[39m,
  message: [32m'Token refresh failed after 401'[39m,
  metadata: {
    errorType: [32m'Error'[39m,
    errorMessage: [32m'Token refresh failed'[39m,
    stack: [32m'Error: Token refresh failed\n'[39m +
      [32m'    at /Users/vinnycarpenter/Projects/gsd-taskmanager/tests/sync/token-manager.test.ts:338:46\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:753:20'[39m
  }
}

 [32mâœ“[39m tests/data/task-dependencies.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 235[2mms[22m[39m
[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIntegration: Token Lifecycle[2m > [22m[2mshould handle complete token refresh cycle
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIntegration: Token Lifecycle[2m > [22m[2mshould handle complete token refresh cycle
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'2025-11-20T03:42:06.661Z'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould normalize token expiration from seconds when refreshing token
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould normalize token expiration from seconds when refreshing token
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'1970-01-21T02:08:09.600Z'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle token expiration already in milliseconds when refreshing
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle token expiration already in milliseconds when refreshing
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'2025-01-01T00:00:00.000Z'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould normalize token expiration on 401 error recovery
[22m[39m[SYNC_TOKEN] Handling 401 Unauthorized error 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould normalize token expiration on 401 error recovery
[22m[39m[SYNC_TOKEN] Token refreshed after 401 error { expiresAt: [32m'1970-01-21T02:08:09.600Z'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle threshold boundary value (seconds) correctly
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle threshold boundary value (seconds) correctly
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'1970-04-26T17:46:39.999Z'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle threshold boundary value (milliseconds) correctly
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle threshold boundary value (milliseconds) correctly
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'1970-04-26T17:46:40.000Z'[39m }

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle realistic JWT token expiration (1 hour from now in seconds)
[22m[39m[SYNC_TOKEN] Token needs refresh, attempting refresh 

[90mstdout[2m | tests/sync/token-manager.test.ts[2m > [22m[2mTokenManager[2m > [22m[2mIssue #2: Token Expiration Normalization Integration[2m > [22m[2mshould handle realistic JWT token expiration (1 hour from now in seconds)
[22m[39m[SYNC_TOKEN] Token refreshed successfully { expiresAt: [32m'1970-01-21T09:53:30.126Z'[39m }

 [32mâœ“[39m tests/sync/token-manager.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 148[2mms[22m[39m
 [32mâœ“[39m tests/ui/matrix-empty-state.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 101[2mms[22m[39m
 [32mâœ“[39m tests/data/smart-views.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 72[2mms[22m[39m
[90mstdout[2m | tests/sync/debug.test.ts
[22m[39m[SYNC DEBUG] Debug tools installed. Available functions:
  - debugSyncQueue()
  - clearStuckOperations()

[90mstdout[2m | tests/ui/encryption-passphrase-dialog.test.tsx[2m > [22m[2mEncryptionPassphraseDialog[2m > [22m[2mIssue #5: Timeout Cleanup - Memory Leak Prevention[2m > [22m[2mshould catch and log auto-sync errors without showing user toast
[22m[39m[SYNC] Queued 1 existing tasks for initial sync

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mupdateSyncMetadata[2m > [22m[2mshould update last sync timestamp
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:07.055Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

 [32mâœ“[39m tests/fixtures/example-usage.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 107[2mms[22m[39m
 [32mâœ“[39m tests/sync/debug.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 120[2mms[22m[39m
[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mupdateSyncMetadata[2m > [22m[2mshould merge vector clocks
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:07.064Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/data/use-sync.test.ts[2m > [22m[2museSync[2m > [22m[2minitialization[2m > [22m[2mshould start health monitor when sync is enabled
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstderr[2m | tests/data/use-sync.test.ts[2m > [22m[2museSync[2m > [22m[2minitialization[2m > [22m[2mshould start health monitor when sync is enabled
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mupdateSyncMetadata[2m > [22m[2mshould use sync start time to prevent race conditions
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [32m'1970-01-01T00:00:01.000Z'[39m,
  newLastSyncAt: [32m'1970-01-01T00:00:05.000Z'[39m,
  timingWindow: [32m'4000ms'[39m
}

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould clear existing tasks and add imported tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould clear existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'Ulf2UOgp9BsC'[39m, title: [32m'Existing task 1'[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould clear existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'8PStGbvusvcH'[39m, title: [32m'Existing task 2'[39m }

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mupdateSyncMetadata[2m > [22m[2mshould preserve other config fields
[22m[39m[SYNC_METADATA] Updating sync metadata {
  previousLastSyncAt: [1mnull[22m,
  newLastSyncAt: [32m'2025-11-20T02:42:07.096Z'[39m,
  timingWindow: [32m'initial sync'[39m
}

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould clear existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould clear existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould clear existing tasks and add imported tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould handle empty existing tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould handle empty existing tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mReplace mode[2m > [22m[2mshould handle empty existing tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould keep existing tasks and add imported tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould keep existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Task created { taskId: [32m'AqZCOe-li06o'[39m, title: [32m'Existing task'[39m }

 [32mâœ“[39m tests/data/archive.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 49[2mms[22m[39m
[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould keep existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould keep existing tasks and add imported tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould keep existing tasks and add imported tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould regenerate IDs for duplicate imports
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould regenerate IDs for duplicate imports
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould regenerate IDs for duplicate imports
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould handle empty existing tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould handle empty existing tasks
[22m[39m[TASK_CRUD] Listed tasks { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould handle empty existing tasks
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould preserve tags and subtasks during merge
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould preserve tags and subtasks during merge
[22m[39m[TASK_CRUD] Task created { taskId: [32m'7NWpffEEKoAl'[39m, title: [32m'Existing with features'[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould preserve tags and subtasks during merge
[22m[39m[TASK_CRUD] Listed tasks { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mMerge mode[2m > [22m[2mshould preserve tags and subtasks during merge
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m2[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mRound-trip export/import[2m > [22m[2mshould preserve all task data through export and import
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m0[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mRound-trip export/import[2m > [22m[2mshould preserve all task data through export and import
[22m[39m[TASK_CRUD] Task created { taskId: [32m'GFEx6Q6Ccb4e'[39m, title: [32m'Complex task'[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mRound-trip export/import[2m > [22m[2mshould preserve all task data through export and import
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mRound-trip export/import[2m > [22m[2mshould preserve all task data through export and import
[22m[39m[TASK_CRUD] Listed tasks { count: [33m1[39m }

[90mstdout[2m | tests/data/import.test.ts[2m > [22m[2mImport functionality[2m > [22m[2mRound-trip export/import[2m > [22m[2mshould preserve all task data through export and import
[22m[39m[TASK_CRUD] All tasks cleared { count: [33m1[39m }

 [32mâœ“[39m tests/data/import.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 70[2mms[22m[39m
[90mstdout[2m | tests/data/use-sync.test.ts[2m > [22m[2museSync[2m > [22m[2mhealth monitoring[2m > [22m[2mshould start health monitor when sync is enabled
[22m[39m[SYNC] Starting health monitor (sync enabled)

[90mstderr[2m | tests/data/use-sync.test.ts[2m > [22m[2museSync[2m > [22m[2mhealth monitoring[2m > [22m[2mshould start health monitor when sync is enabled
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstderr[2m | tests/data/use-sync.test.ts[2m > [22m[2museSync[2m > [22m[2mcleanup[2m > [22m[2mshould stop health monitor on unmount
[22m[39mAn update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould allow retries below max limit
[22m[39m[RETRY] Should retry check: { consecutiveFailures: [33m0[39m, maxRetries: [33m5[39m, shouldRetry: [33mtrue[39m }

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould queue all existing tasks
[22m[39m[SYNC_METADATA] Found tasks in IndexedDB { taskCount: [33m3[39m }

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould block retries at max limit
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m1[39m,
  errorMessage: [32m'Test error'[39m,
  nextRetryDelay: [32m'5s'[39m,
  nextRetryAt: [32m'2025-11-20T02:42:12.152Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould block retries at max limit
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m2[39m,
  errorMessage: [32m'Test error'[39m,
  nextRetryDelay: [32m'10s'[39m,
  nextRetryAt: [32m'2025-11-20T02:42:17.154Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould block retries at max limit
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m3[39m,
  errorMessage: [32m'Test error'[39m,
  nextRetryDelay: [32m'30s'[39m,
  nextRetryAt: [32m'2025-11-20T02:42:37.155Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould block retries at max limit
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m4[39m,
  errorMessage: [32m'Test error'[39m,
  nextRetryDelay: [32m'60s'[39m,
  nextRetryAt: [32m'2025-11-20T02:43:07.156Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould block retries at max limit
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m5[39m,
  errorMessage: [32m'Test error'[39m,
  nextRetryDelay: [32m'300s'[39m,
  nextRetryAt: [32m'2025-11-20T02:47:07.158Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mmax retry limit enforcement[2m > [22m[2mshould block retries at max limit
[22m[39m[RETRY] Should retry check: { consecutiveFailures: [33m5[39m, maxRetries: [33m5[39m, shouldRetry: [33mfalse[39m }

 [32mâœ“[39m tests/data/use-sync.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 107[2mms[22m[39m
 [32mâœ“[39m tests/data/use-auto-archive.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 78[2mms[22m[39m
[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould skip tasks already in queue
[22m[39m[SYNC_METADATA] Found tasks in IndexedDB { taskCount: [33m2[39m }

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould skip tasks already in queue
[22m[39m[SYNC_METADATA] Skipping task - already in queue { taskId: [32m'task-1'[39m }

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2msuccess resets retry counter[2m > [22m[2mshould reset failure count on success
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m1[39m,
  errorMessage: [32m'Test error 1'[39m,
  nextRetryDelay: [32m'5s'[39m,
  nextRetryAt: [32m'2025-11-20T02:42:12.170Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2msuccess resets retry counter[2m > [22m[2mshould reset failure count on success
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m2[39m,
  errorMessage: [32m'Test error 2'[39m,
  nextRetryDelay: [32m'10s'[39m,
  nextRetryAt: [32m'2025-11-20T02:42:17.174Z'[39m
}

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2msuccess resets retry counter[2m > [22m[2mshould reset failure count on success
[22m[39m[RETRY] Recording sync success, resetting failure counter

 [32mâœ“[39m tests/data/use-matrix-dialogs.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 27[2mms[22m[39m
[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mcanSyncNow[2m > [22m[2mshould block sync when retry time has not passed
[22m[39m[RETRY] Recording sync failure: {
  consecutiveFailures: [33m1[39m,
  errorMessage: [32m'Test error'[39m,
  nextRetryDelay: [32m'5s'[39m,
  nextRetryAt: [32m'2025-11-20T02:42:12.182Z'[39m
}

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould handle empty task list
[22m[39m[SYNC_METADATA] Found tasks in IndexedDB { taskCount: [33m0[39m }

[90mstdout[2m | tests/sync/retry-manager.test.ts[2m > [22m[2mRetryManager[2m > [22m[2mcanSyncNow[2m > [22m[2mshould block sync when retry time has not passed
[22m[39m[RETRY] Cannot sync yet, must wait: { waitTimeSeconds: [33m5[39m, nextRetryAt: [32m'2025-11-20T02:42:12.182Z'[39m }

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould queue tasks with create operation
[22m[39m[SYNC_METADATA] Found tasks in IndexedDB { taskCount: [33m1[39m }

 [32mâœ“[39m tests/sync/retry-manager.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 67[2mms[22m[39m
[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould preserve task vector clocks when queueing
[22m[39m[SYNC_METADATA] Found tasks in IndexedDB { taskCount: [33m1[39m }

[90mstdout[2m | tests/sync/metadata-manager.test.ts[2m > [22m[2mMetadataManager[2m > [22m[2mqueueExistingTasks[2m > [22m[2mshould handle tasks without vector clocks
[22m[39m[SYNC_METADATA] Found tasks in IndexedDB { taskCount: [33m1[39m }

 [32mâœ“[39m tests/data/sync/crypto.test.ts [2m([22m[2m36 tests[22m[2m)[22m[33m 3235[2mms[22m[39m
 [32mâœ“[39m tests/sync/metadata-manager.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 175[2mms[22m[39m
 [32mâœ“[39m tests/ui/matrix-column.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32mâœ“[39m tests/data/use-view-transition.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32mâœ“[39m tests/ui/utils.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/ui/error-boundary.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 32[2mms[22m[39m
 [32mâœ“[39m tests/data/notifications.test.ts [2m([22m[2m46 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/data/use-keyboard-shortcuts.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mregister()[2m > [22m[2mshould make POST request to /api/auth/register
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mregister()[2m > [22m[2mshould make POST request to /api/auth/register
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/register'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mregister()[2m > [22m[2mshould throw SyncNetworkError on 500 error
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mregister()[2m > [22m[2mshould throw SyncNetworkError on 500 error
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.661Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m500[39m,
    error: [32m'Server error'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mregister()[2m > [22m[2mshould throw SyncValidationError on 400 error
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mregister()[2m > [22m[2mshould throw SyncValidationError on 400 error
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.661Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m400[39m,
    error: [32m'Invalid email format'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mlogin()[2m > [22m[2mshould make POST request to /api/auth/login
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/login'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mlogin()[2m > [22m[2mshould make POST request to /api/auth/login
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/login'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mlogin()[2m > [22m[2mshould throw SyncAuthError on 401 error
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/login'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mlogin()[2m > [22m[2mshould throw SyncAuthError on 401 error
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.662Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/login'[39m,
    status: [33m401[39m,
    error: [32m'Invalid credentials'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mlogout()[2m > [22m[2mshould make POST request to /api/auth/logout with auth
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/logout'[39m, method: [32m'POST'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mlogout()[2m > [22m[2mshould make POST request to /api/auth/logout with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/logout'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mrefreshToken()[2m > [22m[2mshould make POST request to /api/auth/refresh with auth
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/refresh'[39m, method: [32m'POST'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mAuthentication Endpoints[2m > [22m[2mrefreshToken()[2m > [22m[2mshould make POST request to /api/auth/refresh with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/refresh'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mpush()[2m > [22m[2mshould make POST request to /api/sync/push with auth
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/sync/push'[39m, method: [32m'POST'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mpush()[2m > [22m[2mshould make POST request to /api/sync/push with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/sync/push'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mpush()[2m > [22m[2mshould throw SyncAuthError on 401 error
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/sync/push'[39m, method: [32m'POST'[39m, hasAuth: [33mtrue[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mpush()[2m > [22m[2mshould throw SyncAuthError on 401 error
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.664Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/sync/push'[39m,
    status: [33m401[39m,
    error: [32m'Token expired'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mpull()[2m > [22m[2mshould make POST request to /api/sync/pull with auth
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/sync/pull'[39m, method: [32m'POST'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mpull()[2m > [22m[2mshould make POST request to /api/sync/pull with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/sync/pull'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mgetStatus()[2m > [22m[2mshould make GET request to /api/sync/status with auth
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/sync/status'[39m, method: [32m'GET'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mSync Endpoints[2m > [22m[2mgetStatus()[2m > [22m[2mshould make GET request to /api/sync/status with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/sync/status'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mDevice Management Endpoints[2m > [22m[2mlistDevices()[2m > [22m[2mshould make GET request to /api/devices with auth
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/devices'[39m, method: [32m'GET'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mDevice Management Endpoints[2m > [22m[2mlistDevices()[2m > [22m[2mshould make GET request to /api/devices with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/devices'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mDevice Management Endpoints[2m > [22m[2mrevokeDevice()[2m > [22m[2mshould make DELETE request to /api/devices/:deviceId with auth
[22m[39m[SYNC_API] API request initiated {
  endpoint: [32m'/api/devices/device-123'[39m,
  method: [32m'DELETE'[39m,
  hasAuth: [33mtrue[39m
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mDevice Management Endpoints[2m > [22m[2mrevokeDevice()[2m > [22m[2mshould make DELETE request to /api/devices/:deviceId with auth
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/devices/device-123'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 401 as SyncAuthError
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 401 as SyncAuthError
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.665Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m401[39m,
    error: [32m'Authentication failed'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 403 as SyncAuthError
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 403 as SyncAuthError
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.665Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m403[39m,
    error: [32m'Access denied'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 500 as SyncNetworkError
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 500 as SyncNetworkError
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.665Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m500[39m,
    error: [32m'Server error'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 503 as SyncNetworkError
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 503 as SyncNetworkError
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.665Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m503[39m,
    error: [32m'Service unavailable'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 400 as SyncValidationError
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 400 as SyncValidationError
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.665Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m400[39m,
    error: [32m'Invalid request'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 422 as SyncValidationError
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould categorize 422 as SyncValidationError
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.666Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m422[39m,
    error: [32m'Validation failed'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould handle network errors (fetch throws)
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

 [32mâœ“[39m tests/data/use-error-handler.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 13[2mms[22m[39m
[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould handle network errors (fetch throws)
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.667Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request threw error'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    errorType: [32m'Error'[39m,
    errorMessage: [32m'Network error'[39m,
    stack: [32m'Error: Network error\n'[39m +
      [32m'    at /Users/vinnycarpenter/Projects/gsd-taskmanager/tests/data/sync/api-client.test.ts:494:51\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:157:11\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:753:26\n'[39m +
      [32m'    at file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:1636:20\n'[39m +
      [32m'    at new Promise (<anonymous>)\n'[39m +
      [32m'    at runWithTimeout (file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:1602:10)\n'[39m +
      [32m'    at runTest (file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:1309:12)\n'[39m +
      [32m'    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n'[39m +
      [32m'    at runSuite (file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:1468:8)\n'[39m +
      [32m'    at runSuite (file:///Users/vinnycarpenter/Projects/gsd-taskmanager/node_modules/.pnpm/@vitest+runner@4.0.9/node_modules/@vitest/runner/dist/index.js:1468:8)'[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould handle invalid JSON response
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould handle invalid JSON response
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.668Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m500[39m,
    error: [32m'Unknown error'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould preserve error context
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstderr[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mError Handling[2m > [22m[2mshould preserve error context
[22m[39m[SYNC_API] {
  timestamp: [32m'2025-11-20T02:42:07.668Z'[39m,
  level: [32m'ERROR'[39m,
  context: [32m'SYNC_API'[39m,
  message: [32m'API request failed'[39m,
  metadata: {
    endpoint: [32m'/api/auth/register'[39m,
    status: [33m401[39m,
    error: [32m'Custom error message'[39m,
    errorType: [90mundefined[39m,
    errorMessage: [90mundefined[39m,
    stack: [90mundefined[39m
  }
}

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mRequest Headers[2m > [22m[2mshould include Content-Type header
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mRequest Headers[2m > [22m[2mshould include Content-Type header
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/register'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mRequest Headers[2m > [22m[2mshould include Authorization header when token is set and auth is required
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/logout'[39m, method: [32m'POST'[39m, hasAuth: [33mtrue[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mRequest Headers[2m > [22m[2mshould include Authorization header when token is set and auth is required
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/logout'[39m, status: [90mundefined[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mRequest Headers[2m > [22m[2mshould not include Authorization header for unauthenticated endpoints
[22m[39m[SYNC_API] API request initiated { endpoint: [32m'/api/auth/register'[39m, method: [32m'POST'[39m, hasAuth: [33mfalse[39m }

[90mstdout[2m | tests/data/sync/api-client.test.ts[2m > [22m[2mSyncApiClient[2m > [22m[2mRequest Headers[2m > [22m[2mshould not include Authorization header for unauthenticated endpoints
[22m[39m[SYNC_API] API request successful { endpoint: [32m'/api/auth/register'[39m, status: [90mundefined[39m }

 [32mâœ“[39m tests/data/utils.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/data/sync/api-client.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32mâœ“[39m tests/data/use-drag-and-drop.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/data/notification-checker.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 12[2mms[22m[39m
 [32mâœ“[39m tests/data/error-logger.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m packages/mcp-server/src/__tests__/tools/schemas.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/data/matrix-filters.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/sync/error-handler.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/data/bulk-operations.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m tests/ui/encryption-passphrase-dialog.test.tsx [2m([22m[2m12 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 4003[2mms[22m[39m
       [33m[2mâœ“[22m[39m should trigger auto-sync after 1 second delay [33m 1144[2mms[22m[39m
       [33m[2mâœ“[22m[39m should cleanup timeout on unmount to prevent memory leak [33m 1159[2mms[22m[39m
       [33m[2mâœ“[22m[39m should catch and log auto-sync errors without showing user toast [33m 1160[2mms[22m[39m
 [32mâœ“[39m tests/data/filters.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/data/dependencies.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m tests/sync/error-categorizer.test.ts [2m([22m[2m66 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/security/oauth-security.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mâœ“[39m packages/mcp-server/dist/__tests__/tools/schemas.test.js [2m([22m[2m32 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mâœ“[39m tests/data/pwa-detection.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/fixtures/fixtures.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m tests/data/id-generator.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mâœ“[39m tests/data/constants.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/sync/utils.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 2[2mms[22m[39m
 [32mâœ“[39m tests/data/quadrants.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 1[2mms[22m[39m
 [32mâœ“[39m tests/data/analytics.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 7[2mms[22m[39m
 [31mâ¯[39m tests/ui/sync-button.test.tsx [2m([22m[2m36 tests[22m[2m | [22m[31m15 failed[39m[2m)[22m[33m 50319[2mms[22m[39m
       [32mâœ“[39m should render sync button[32m 79[2mms[22m[39m
       [32mâœ“[39m should show cloud icon when idle[32m 13[2mms[22m[39m
       [32mâœ“[39m should show cloud off icon when sync is disabled[32m 8[2mms[22m[39m
       [32mâœ“[39m should show disabled indicator dot when sync is not enabled[32m 3[2mms[22m[39m
       [32mâœ“[39m should show syncing status with pulsing icon[32m 11[2mms[22m[39m
       [32mâœ“[39m should show success status with green check icon[32m 12[2mms[22m[39m
       [32mâœ“[39m should show error status with red X icon[32m 14[2mms[22m[39m
       [32mâœ“[39m should show conflict status with yellow alert icon[32m 6[2mms[22m[39m
       [32mâœ“[39m should disable button while syncing[32m 9[2mms[22m[39m
[31m       [31mÃ—[31m should show pending count badge when operations are queued[39m[32m 10[2mms[22m[39m
       [32mâœ“[39m should not show badge when no pending operations[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should update pending count periodically[39m[32m 3[2mms[22m[39m
       [32mâœ“[39m should show pending count in tooltip[32m 9[2mms[22m[39m
[31m       [31mÃ—[31m should call sync function when button is clicked[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should open auth dialog when sync is not enabled[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should not call sync when encryption is not initialized[39m[33m 5005[2mms[22m[39m
[31m       [31mÃ—[31m should open auth dialog when encryption is not initialized[39m[33m 5008[2mms[22m[39m
       [32mâœ“[39m should display error message in tooltip[32m 16[2mms[22m[39m
       [32mâœ“[39m should show auth error badge with exclamation mark[32m 5[2mms[22m[39m
       [32mâœ“[39m should show toast with re-login action for auth errors[32m 5[2mms[22m[39m
[31m       [31mÃ—[31m should open auth dialog when clicking re-login on auth error[39m[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should prevent sync when auth error is active[39m[33m 5006[2mms[22m[39m
       [32mâœ“[39m should show retry countdown when nextRetryAt is set[32m 8[2mms[22m[39m
       [32mâœ“[39m should show clock icon during retry countdown[32m 4[2mms[22m[39m
[31m       [31mÃ—[31m should update countdown every second[39m[32m 5[2mms[22m[39m
       [32mâœ“[39m should show retry countdown in tooltip[32m 10[2mms[22m[39m
       [32mâœ“[39m should check health periodically when enabled[32m 3[2mms[22m[39m
       [32mâœ“[39m should show toast for error severity health issues[32m 3[2mms[22m[39m
       [32mâœ“[39m should show toast with sync action for stale queue warnings[32m 3[2mms[22m[39m
[31m       [31mÃ—[31m should not spam health notifications[39m[32m 12[2mms[22m[39m
       [32mâœ“[39m should not check health when sync is disabled[32m 2[2mms[22m[39m
[31m       [31mÃ—[31m should show success toast after successful sync[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should show conflict toast when conflicts are resolved[39m[33m 5004[2mms[22m[39m
[31m       [31mÃ—[31m should show error toast when sync fails[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should close auth dialog when close button is clicked[39m[33m 5006[2mms[22m[39m
[31m       [31mÃ—[31m should clear auth error state on successful re-authentication[39m[33m 5005[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 47 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m tests/data/db.test.ts[2m > [22mDatabase[2m > [22mTasks Table[2m > [22mshould query tasks by completion status
[41m[1m FAIL [22m[49m tests/data/db.test.ts[2m > [22mDatabase[2m > [22mTasks Table[2m > [22mshould query tasks by compound index [quadrant+completed]
[41m[1m FAIL [22m[49m tests/data/db.test.ts[2m > [22mDatabase[2m > [22mSmart Views Table[2m > [22mshould query smart views by isBuiltIn
[31m[1mDataError[22m: Data provided to an operation does not meet requirements.
 DataError: Data provided to an operation does not meet requirements.[39m
[90m [2mâ¯[22m valueToKey node_modules/.pnpm/fake-indexeddb@6.2.5/node_modules/fake-indexeddb/build/esm/lib/valueToKey.js:[2m10:11[22m[39m
[90m [2mâ¯[22m cmp node_modules/.pnpm/fake-indexeddb@6.2.5/node_modules/fake-indexeddb/build/esm/lib/cmp.js:[2m27:11[22m[39m
[90m [2mâ¯[22m Function.bound node_modules/.pnpm/fake-indexeddb@6.2.5/node_modules/fake-indexeddb/build/esm/FDBKeyRange.js:[2m31:23[22m[39m
[90m [2mâ¯[22m makeIDBKeyRange node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m3081:33[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m3246:43[22m[39m
[90m [2mâ¯[22m executePromiseTask node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m784:13[22m[39m
[90m [2mâ¯[22m new DexiePromise node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m615:9[22m[39m
[90m [2mâ¯[22m Object.query node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m3239:28[22m[39m
[90m [2mâ¯[22m Object.query node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m5264:50[22m[39m
[90m [2mâ¯[22m Object.tableClone.<computed> [as query] node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m4865:50[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/data/db.test.ts[2m > [22mDatabase[2m > [22mBulk Operations[2m > [22mshould perform bulk update
[31m[1mDataError[22m: Data provided to an operation does not meet requirements.
 DataError: Data provided to an operation does not meet requirements.[39m
[90m [2mâ¯[22m valueToKey node_modules/.pnpm/fake-indexeddb@6.2.5/node_modules/fake-indexeddb/build/esm/lib/valueToKey.js:[2m10:11[22m[39m
[90m [2mâ¯[22m cmp node_modules/.pnpm/fake-indexeddb@6.2.5/node_modules/fake-indexeddb/build/esm/lib/cmp.js:[2m27:11[22m[39m
[90m [2mâ¯[22m Function.bound node_modules/.pnpm/fake-indexeddb@6.2.5/node_modules/fake-indexeddb/build/esm/FDBKeyRange.js:[2m31:23[22m[39m
[90m [2mâ¯[22m makeIDBKeyRange node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m3081:33[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m3330:43[22m[39m
[90m [2mâ¯[22m executePromiseTask node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m784:13[22m[39m
[90m [2mâ¯[22m new DexiePromise node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m615:9[22m[39m
[90m [2mâ¯[22m Object.count node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m3327:28[22m[39m
[90m [2mâ¯[22m Object.tableClone.<computed> [as count] node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m4865:50[22m[39m
[90m [2mâ¯[22m Object.count node_modules/.pnpm/dexie@4.2.1/node_modules/dexie/dist/dexie.js:[2m4392:38[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/dashboard-components.test.tsx[2m > [22mDashboard Components[2m > [22mUpcomingDeadlines[2m > [22mshould show overdue tasks
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /overdue/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
[36m>[39m
  [0mOverdue[0m
  [0m ([0m
  [0m1[0m
  [0m)[0m
[36m</h4>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
[36m>[39m
  [0mOverdue Task[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border border-border bg-card p-6 shadow-sm"[39m
    [36m>[39m
      [36m<h3[39m
        [33mclass[39m=[32m"mb-4 text-lg font-semibold text-foreground"[39m
      [36m>[39m
        [0mUpcoming Deadlines[0m
      [36m</h3>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4 text-red-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mOverdue[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-red-500 bg-red-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mOverdue Task[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mYesterday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calendar h-4 w-4 text-amber-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 2v4"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"18"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"18"[39m
                [33mx[39m=[32m"3"[39m
                [33my[39m=[32m"4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 10h18"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue Today[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-amber-500 bg-amber-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue Today[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mToday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-blue-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 6v6l4 2"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue This Week[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-blue-500 bg-blue-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue This Week[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mIn 3 days[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mSchedule[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2mâ¯[22m getMultipleElementsFoundError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/dashboard-components.test.tsx:[2m314:21[22m[39m
    [90m312| [39m
    [90m313| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Overdue Task'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m314| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/overdue/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m315| [39m    })[33m;[39m
    [90m316| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/dashboard-components.test.tsx[2m > [22mDashboard Components[2m > [22mUpcomingDeadlines[2m > [22mshould show tasks due today
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /due today/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
[36m>[39m
  [0mDue Today[0m
  [0m ([0m
  [0m1[0m
  [0m)[0m
[36m</h4>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
[36m>[39m
  [0mDue Today[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border border-border bg-card p-6 shadow-sm"[39m
    [36m>[39m
      [36m<h3[39m
        [33mclass[39m=[32m"mb-4 text-lg font-semibold text-foreground"[39m
      [36m>[39m
        [0mUpcoming Deadlines[0m
      [36m</h3>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4 text-red-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mOverdue[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-red-500 bg-red-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mOverdue Task[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mYesterday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calendar h-4 w-4 text-amber-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 2v4"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"18"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"18"[39m
                [33mx[39m=[32m"3"[39m
                [33my[39m=[32m"4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 10h18"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue Today[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-amber-500 bg-amber-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue Today[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mToday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-blue-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 6v6l4 2"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue This Week[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-blue-500 bg-blue-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue This Week[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mIn 3 days[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mSchedule[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2mâ¯[22m getMultipleElementsFoundError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/dashboard-components.test.tsx:[2m321:21[22m[39m
    [90m319| [39m
    [90m320| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'Due Today'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m321| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/due today/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m322| [39m    })[33m;[39m
    [90m323| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/dashboard-components.test.tsx[2m > [22mDashboard Components[2m > [22mUpcomingDeadlines[2m > [22mshould group tasks by category
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /overdue/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
[36m>[39m
  [0mOverdue[0m
  [0m ([0m
  [0m1[0m
  [0m)[0m
[36m</h4>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
[36m>[39m
  [0mOverdue Task[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border border-border bg-card p-6 shadow-sm"[39m
    [36m>[39m
      [36m<h3[39m
        [33mclass[39m=[32m"mb-4 text-lg font-semibold text-foreground"[39m
      [36m>[39m
        [0mUpcoming Deadlines[0m
      [36m</h3>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4 text-red-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mOverdue[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-red-500 bg-red-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mOverdue Task[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mYesterday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calendar h-4 w-4 text-amber-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 2v4"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"18"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"18"[39m
                [33mx[39m=[32m"3"[39m
                [33my[39m=[32m"4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 10h18"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue Today[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-amber-500 bg-amber-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue Today[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mToday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-blue-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 6v6l4 2"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue This Week[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-blue-500 bg-blue-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue This Week[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mIn 3 days[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mSchedule[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2mâ¯[22m getMultipleElementsFoundError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/dashboard-components.test.tsx:[2m334:21[22m[39m
    [90m332| [39m
    [90m333| [39m      [90m// Should have section headers or content[39m
    [90m334| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/overdue/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m335| [39m      expect(screen.getByText(/today/i) || screen.getByText(/due todayâ€¦
    [90m336| [39m    })[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/dashboard-components.test.tsx[2m > [22mDashboard Components[2m > [22mUpcomingDeadlines[2m > [22mshould show count of overdue tasks
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: /overdue/i

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<h4[39m
  [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
[36m>[39m
  [0mOverdue[0m
  [0m ([0m
  [0m1[0m
  [0m)[0m
[36m</h4>[39m

Ignored nodes: comments, script, style
[36m<p[39m
  [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
[36m>[39m
  [0mOverdue Task[0m
[36m</p>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"rounded-xl border border-border bg-card p-6 shadow-sm"[39m
    [36m>[39m
      [36m<h3[39m
        [33mclass[39m=[32m"mb-4 text-lg font-semibold text-foreground"[39m
      [36m>[39m
        [0mUpcoming Deadlines[0m
      [36m</h3>[39m
      [36m<div[39m
        [33mclass[39m=[32m"space-y-4"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-circle-alert h-4 w-4 text-red-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12"[39m
                [33my1[39m=[32m"8"[39m
                [33my2[39m=[32m"12"[39m
              [36m/>[39m
              [36m<line[39m
                [33mx1[39m=[32m"12"[39m
                [33mx2[39m=[32m"12.01"[39m
                [33my1[39m=[32m"16"[39m
                [33my2[39m=[32m"16"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mOverdue[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-red-500 bg-red-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mOverdue Task[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mYesterday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-calendar h-4 w-4 text-amber-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M8 2v4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M16 2v4"[39m
              [36m/>[39m
              [36m<rect[39m
                [33mheight[39m=[32m"18"[39m
                [33mrx[39m=[32m"2"[39m
                [33mwidth[39m=[32m"18"[39m
                [33mx[39m=[32m"3"[39m
                [33my[39m=[32m"4"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M3 10h18"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue Today[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-amber-500 bg-amber-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue Today[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mToday[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mDo First[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"mb-2 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-clock h-4 w-4 text-blue-600"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"M12 6v6l4 2"[39m
              [36m/>[39m
              [36m<circle[39m
                [33mcx[39m=[32m"12"[39m
                [33mcy[39m=[32m"12"[39m
                [33mr[39m=[32m"10"[39m
              [36m/>[39m
            [36m</svg>[39m
            [36m<h4[39m
              [33mclass[39m=[32m"text-sm font-semibold text-foreground"[39m
            [36m>[39m
              [0mDue This Week[0m
              [0m ([0m
              [0m1[0m
              [0m)[0m
            [36m</h4>[39m
          [36m</div>[39m
          [36m<ul[39m
            [33mclass[39m=[32m"space-y-2"[39m
          [36m>[39m
            [36m<li>[39m
              [36m<button[39m
                [33mclass[39m=[32m"w-full rounded-lg border-l-4 border-l-blue-500 bg-blue-50 p-3 text-left transition-all hover:shadow-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-start justify-between gap-2"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex-1 min-w-0"[39m
                  [36m>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"truncate text-sm font-medium text-foreground"[39m
                    [36m>[39m
                      [0mDue This Week[0m
                    [36m</p>[39m
                    [36m<p[39m
                      [33mclass[39m=[32m"mt-1 text-xs text-foreground-muted"[39m
                    [36m>[39m
                      [0mIn 3 days[0m
                    [36m</p>[39m
                  [36m</div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"shrink-0 rounded-full bg-white px-2 py-0.5 text-xs font-medium text-foreground-muted"[39m
                  [36m>[39m
                    [0mSchedule[0m
                  [36m</span>[39m
                [36m</div>[39m
              [36m</button>[39m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2mâ¯[22m getMultipleElementsFoundError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/dashboard-components.test.tsx:[2m349:21[22m[39m
    [90m347| [39m
    [90m348| [39m      [90m// Should show overdue section[39m
    [90m349| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([36m/overdue/i[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m350| [39m    })[33m;[39m
    [90m351| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mInitial Rendering[2m > [22mshould render empty state when no tasks exist
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mInitial Rendering[2m > [22mshould render all four quadrants
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mInitial Rendering[2m > [22mshould render app header with controls
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Display[2m > [22mshould display tasks in correct quadrants
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Display[2m > [22mshould show task tags
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Display[2m > [22mshould hide completed tasks by default
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mSearch Functionality[2m > [22mshould filter tasks by title
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mSearch Functionality[2m > [22mshould filter tasks by description
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mSearch Functionality[2m > [22mshould filter tasks by tags
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mSearch Functionality[2m > [22mshould clear search results when search is cleared
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mKeyboard Shortcuts[2m > [22mshould open new task dialog with "n" key
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mKeyboard Shortcuts[2m > [22mshould focus search input with "/" key
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mKeyboard Shortcuts[2m > [22mshould open help dialog with "?" key
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Creation[2m > [22mshould create a new task
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Editing[2m > [22mshould edit an existing task
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Completion[2m > [22mshould toggle task completion
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mTask Deletion[2m > [22mshould delete a task
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mBulk Operations[2m > [22mshould enter selection mode when task is selected
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mBulk Operations[2m > [22mshould select multiple tasks
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mBulk Operations[2m > [22mshould bulk delete selected tasks
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mBulk Operations[2m > [22mshould bulk complete selected tasks
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mURL Parameters[2m > [22mshould handle new task action from URL parameter
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mEmpty States[2m > [22mshould show empty state with no tasks
[41m[1m FAIL [22m[49m tests/ui/matrix-board.test.tsx[2m > [22mMatrixBoard Integration Tests[2m > [22mEmpty States[2m > [22mshould show empty state when all tasks are filtered out
[31m[1mError[22m: useToast must be used within ToastProvider[39m
[36m [2mâ¯[22m useToast components/ui/toast.tsx:[2m28:11[22m[39m
    [90m 26| [39m  [35mconst[39m context [33m=[39m [34museContext[39m([33mToastContext[39m)[33m;[39m
    [90m 27| [39m  [35mif[39m ([33m![39mcontext) {
    [90m 28| [39m    [35mthrow[39m [35mnew[39m [33mError[39m([32m"useToast must be used within ToastProvider"[39m)[33m;[39m
    [90m   | [39m          [31m^[39m
    [90m 29| [39m  }
    [90m 30| [39m  [35mreturn[39m context[33m;[39m
[90m [2mâ¯[22m MatrixBoard components/matrix-board/index.tsx:[2m67:25[22m[39m
[90m [2mâ¯[22m Object.react_stack_bottom_frame node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m25904:20[22m[39m
[90m [2mâ¯[22m renderWithHooks node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m7662:22[22m[39m
[90m [2mâ¯[22m updateFunctionComponent node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m10166:19[22m[39m
[90m [2mâ¯[22m beginWork node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m11778:18[22m[39m
[90m [2mâ¯[22m runWithFiberInDEV node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m874:13[22m[39m
[90m [2mâ¯[22m performUnitOfWork node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m17641:22[22m[39m
[90m [2mâ¯[22m workLoopSync node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m17469:41[22m[39m
[90m [2mâ¯[22m renderRootSync node_modules/.pnpm/react-dom@19.2.0_react@19.2.0/node_modules/react-dom/cjs/react-dom-client.development.js:[2m17450:11[22m[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mPending Operations Badge[2m > [22mshould show pending count badge when operations are queued
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: 5. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<button[31m
      [33maria-label[31m=[32m"Sync with cloud"[31m
      [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[31m
      [33mdata-state[31m=[32m"closed"[31m
      [33mtype[31m=[32m"button"[31m
    [36m>[31m
      [36m<svg[31m
        [33maria-hidden[31m=[32m"true"[31m
        [33mclass[31m=[32m"lucide lucide-cloud h-5 w-5"[31m
        [33mfill[31m=[32m"none"[31m
        [33mheight[31m=[32m"24"[31m
        [33mstroke[31m=[32m"currentColor"[31m
        [33mstroke-linecap[31m=[32m"round"[31m
        [33mstroke-linejoin[31m=[32m"round"[31m
        [33mstroke-width[31m=[32m"2"[31m
        [33mviewBox[31m=[32m"0 0 24 24"[31m
        [33mwidth[31m=[32m"24"[31m
        [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
      [36m>[31m
        [36m<path[31m
          [33md[31m=[32m"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"[31m
        [36m/>[31m
      [36m</svg>[31m
    [36m</button>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m285:28[22m[39m
    [90m283| [39m      [35mawait[39m vi[33m.[39m[34madvanceTimersByTimeAsync[39m([34m0[39m)[33m;[39m
    [90m284| [39m
    [90m285| [39m      [35mconst[39m badge [33m=[39m screen[33m.[39m[34mgetByText[39m([32m'5'[39m)[33m;[39m
    [90m   | [39m                           [31m^[39m
    [90m286| [39m      [34mexpect[39m(badge)[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m287| [39m      [34mexpect[39m(badge)[33m.[39m[34mtoHaveClass[39m([32m'bg-blue-500'[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mPending Operations Badge[2m > [22mshould update pending count periodically
[31m[1mTestingLibraryElementError[22m: Unable to find an element with the text: 3. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<button[31m
      [33maria-label[31m=[32m"Sync with cloud"[31m
      [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[31m
      [33mdata-state[31m=[32m"closed"[31m
      [33mtype[31m=[32m"button"[31m
    [36m>[31m
      [36m<svg[31m
        [33maria-hidden[31m=[32m"true"[31m
        [33mclass[31m=[32m"lucide lucide-cloud h-5 w-5"[31m
        [33mfill[31m=[32m"none"[31m
        [33mheight[31m=[32m"24"[31m
        [33mstroke[31m=[32m"currentColor"[31m
        [33mstroke-linecap[31m=[32m"round"[31m
        [33mstroke-linejoin[31m=[32m"round"[31m
        [33mstroke-width[31m=[32m"2"[31m
        [33mviewBox[31m=[32m"0 0 24 24"[31m
        [33mwidth[31m=[32m"24"[31m
        [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
      [36m>[31m
        [36m<path[31m
          [33md[31m=[32m"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"[31m
        [36m/>[31m
      [36m</svg>[31m
    [36m</button>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m308:21[22m[39m
    [90m306| [39m      [35mawait[39m vi[33m.[39m[34madvanceTimersByTimeAsync[39m([34m0[39m)[33m;[39m
    [90m307| [39m
    [90m308| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m([32m'3'[39m))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m
    [90m   | [39m                    [31m^[39m
    [90m309| [39m
    [90m310| [39m      [90m// Update count[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Trigger[2m > [22mshould call sync function when button is clicked
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m332:5[22m[39m
    [90m330| [39m
    [90m331| [39m  [34mdescribe[39m([32m'Sync Trigger'[39m[33m,[39m () [33m=>[39m {
    [90m332| [39m    it('should call sync function when button is clicked', async () =>â€¦
    [90m   | [39m    [31m^[39m
    [90m333| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m334| [39m      [35mconst[39m mockSync [33m=[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m(undefined)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Trigger[2m > [22mshould open auth dialog when sync is not enabled
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m356:5[22m[39m
    [90m354| [39m    })[33m;[39m
    [90m355| [39m
    [90m356| [39m    it('should open auth dialog when sync is not enabled', async () =>â€¦
    [90m   | [39m    [31m^[39m
    [90m357| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m358| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[11/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Trigger[2m > [22mshould not call sync when encryption is not initialized
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m379:5[22m[39m
    [90m377| [39m    })[33m;[39m
    [90m378| [39m
    [90m379| [39m    it('should not call sync when encryption is not initialized', asynâ€¦
    [90m   | [39m    [31m^[39m
    [90m380| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m381| [39m      [35mconst[39m mockSync [33m=[39m vi[33m.[39m[34mfn[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[12/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Trigger[2m > [22mshould open auth dialog when encryption is not initialized
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m409:5[22m[39m
    [90m407| [39m    })[33m;[39m
    [90m408| [39m
    [90m409| [39m    it('should open auth dialog when encryption is not initialized', aâ€¦
    [90m   | [39m    [31m^[39m
    [90m410| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m411| [39m      mockCryptoManager[33m.[39misInitialized[33m.[39m[34mmockReturnValue[39m([35mfalse[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[13/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mError Handling[2m > [22mshould open auth dialog when clicking re-login on auth error
[31m[1mTestingLibraryElementError[22m: Unable to find an element by: [data-testid="sync-auth-dialog"]

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div>[31m
    [36m<button[31m
      [33maria-label[31m=[32m"Authentication expired - Click to re-login"[31m
      [33mclass[31m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[31m
      [33mdata-state[31m=[32m"closed"[31m
      [33mtype[31m=[32m"button"[31m
    [36m>[31m
      [36m<svg[31m
        [33maria-hidden[31m=[32m"true"[31m
        [33mclass[31m=[32m"lucide lucide-circle-alert h-5 w-5 text-red-600 animate-pulse"[31m
        [33mfill[31m=[32m"none"[31m
        [33mheight[31m=[32m"24"[31m
        [33mstroke[31m=[32m"currentColor"[31m
        [33mstroke-linecap[31m=[32m"round"[31m
        [33mstroke-linejoin[31m=[32m"round"[31m
        [33mstroke-width[31m=[32m"2"[31m
        [33mviewBox[31m=[32m"0 0 24 24"[31m
        [33mwidth[31m=[32m"24"[31m
        [33mxmlns[31m=[32m"http://www.w3.org/2000/svg"[31m
      [36m>[31m
        [36m<circle[31m
          [33mcx[31m=[32m"12"[31m
          [33mcy[31m=[32m"12"[31m
          [33mr[31m=[32m"10"[31m
        [36m/>[31m
        [36m<line[31m
          [33mx1[31m=[32m"12"[31m
          [33mx2[31m=[32m"12"[31m
          [33my1[31m=[32m"8"[31m
          [33my2[31m=[32m"12"[31m
        [36m/>[31m
        [36m<line[31m
          [33mx1[31m=[32m"12"[31m
          [33mx2[31m=[32m"12.01"[31m
          [33my1[31m=[32m"16"[31m
          [33my2[31m=[32m"16"[31m
        [36m/>[31m
      [36m</svg>[31m
      [36m<span[31m
        [33mclass[31m=[32m"inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium uppercase tracking-wide bg-white/10 text-white absolute -top-1 -right-1 h-5 min-w-[20px] px-1 bg-red-600 text-white text-xs"[31m
      [36m>[31m
        [0m![0m
      [36m</span>[31m
    [36m</button>[31m
  [36m</div>[31m
[36m</body>[31m[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m76:38[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m52:17[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m523:21[22m[39m
    [90m521| [39m      [34mreloginCallback[39m[33m?.[39m()[33m;[39m
    [90m522| [39m
    [90m523| [39m      expect(screen.getByTestId('sync-auth-dialog')).toBeInTheDocumentâ€¦
    [90m   | [39m                    [31m^[39m
    [90m524| [39m    })[33m;[39m
    [90m525| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[14/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mError Handling[2m > [22mshould prevent sync when auth error is active
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m526:5[22m[39m
    [90m524| [39m    })[33m;[39m
    [90m525| [39m
    [90m526| [39m    [34mit[39m([32m'should prevent sync when auth error is active'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m527| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m528| [39m      [35mconst[39m mockSync [33m=[39m vi[33m.[39m[34mfn[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[15/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mRetry Countdown[2m > [22mshould update countdown every second
[31m[1mTestingLibraryElementError[22m[39m: Found multiple elements with the text: (content, element) => {
        return element?.textContent === "10s";
      }

Here are the matching elements:

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33maria-label[39m=[32m"Retrying in 10s..."[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[39m
      [33mdata-state[39m=[32m"closed"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-clock h-5 w-5 text-orange-500"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 6v6l4 2"[39m
        [36m/>[39m
        [36m<circle[39m
          [33mcx[39m=[32m"12"[39m
          [33mcy[39m=[32m"12"[39m
          [33mr[39m=[32m"10"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] font-medium text-orange-500"[39m
      [36m>[39m
        [0m10[0m
        [0ms[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
[36m</body>[39m

Ignored nodes: comments, script, style
[36m<div>[39m
  [36m<button[39m
    [33maria-label[39m=[32m"Retrying in 10s..."[39m
    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[39m
    [33mdata-state[39m=[32m"closed"[39m
    [33mtype[39m=[32m"button"[39m
  [36m>[39m
    [36m<svg[39m
      [33maria-hidden[39m=[32m"true"[39m
      [33mclass[39m=[32m"lucide lucide-clock h-5 w-5 text-orange-500"[39m
      [33mfill[39m=[32m"none"[39m
      [33mheight[39m=[32m"24"[39m
      [33mstroke[39m=[32m"currentColor"[39m
      [33mstroke-linecap[39m=[32m"round"[39m
      [33mstroke-linejoin[39m=[32m"round"[39m
      [33mstroke-width[39m=[32m"2"[39m
      [33mviewBox[39m=[32m"0 0 24 24"[39m
      [33mwidth[39m=[32m"24"[39m
      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
    [36m>[39m
      [36m<path[39m
        [33md[39m=[32m"M12 6v6l4 2"[39m
      [36m/>[39m
      [36m<circle[39m
        [33mcx[39m=[32m"12"[39m
        [33mcy[39m=[32m"12"[39m
        [33mr[39m=[32m"10"[39m
      [36m/>[39m
    [36m</svg>[39m
    [36m<span[39m
      [33mclass[39m=[32m"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] font-medium text-orange-500"[39m
    [36m>[39m
      [0m10[0m
      [0ms[0m
    [36m</span>[39m
  [36m</button>[39m
[36m</div>[39m

Ignored nodes: comments, script, style
[36m<button[39m
  [33maria-label[39m=[32m"Retrying in 10s..."[39m
  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[39m
  [33mdata-state[39m=[32m"closed"[39m
  [33mtype[39m=[32m"button"[39m
[36m>[39m
  [36m<svg[39m
    [33maria-hidden[39m=[32m"true"[39m
    [33mclass[39m=[32m"lucide lucide-clock h-5 w-5 text-orange-500"[39m
    [33mfill[39m=[32m"none"[39m
    [33mheight[39m=[32m"24"[39m
    [33mstroke[39m=[32m"currentColor"[39m
    [33mstroke-linecap[39m=[32m"round"[39m
    [33mstroke-linejoin[39m=[32m"round"[39m
    [33mstroke-width[39m=[32m"2"[39m
    [33mviewBox[39m=[32m"0 0 24 24"[39m
    [33mwidth[39m=[32m"24"[39m
    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
  [36m>[39m
    [36m<path[39m
      [33md[39m=[32m"M12 6v6l4 2"[39m
    [36m/>[39m
    [36m<circle[39m
      [33mcx[39m=[32m"12"[39m
      [33mcy[39m=[32m"12"[39m
      [33mr[39m=[32m"10"[39m
    [36m/>[39m
  [36m</svg>[39m
  [36m<span[39m
    [33mclass[39m=[32m"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] font-medium text-orange-500"[39m
  [36m>[39m
    [0m10[0m
    [0ms[0m
  [36m</span>[39m
[36m</button>[39m

Ignored nodes: comments, script, style
[36m<span[39m
  [33mclass[39m=[32m"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] font-medium text-orange-500"[39m
[36m>[39m
  [0m10[0m
  [0ms[0m
[36m</span>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<button[39m
      [33maria-label[39m=[32m"Retrying in 10s..."[39m
      [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 bg-transparent hover:bg-background-muted text-foreground relative h-12 w-12 p-0"[39m
      [33mdata-state[39m=[32m"closed"[39m
      [33mtype[39m=[32m"button"[39m
    [36m>[39m
      [36m<svg[39m
        [33maria-hidden[39m=[32m"true"[39m
        [33mclass[39m=[32m"lucide lucide-clock h-5 w-5 text-orange-500"[39m
        [33mfill[39m=[32m"none"[39m
        [33mheight[39m=[32m"24"[39m
        [33mstroke[39m=[32m"currentColor"[39m
        [33mstroke-linecap[39m=[32m"round"[39m
        [33mstroke-linejoin[39m=[32m"round"[39m
        [33mstroke-width[39m=[32m"2"[39m
        [33mviewBox[39m=[32m"0 0 24 24"[39m
        [33mwidth[39m=[32m"24"[39m
        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
      [36m>[39m
        [36m<path[39m
          [33md[39m=[32m"M12 6v6l4 2"[39m
        [36m/>[39m
        [36m<circle[39m
          [33mcx[39m=[32m"12"[39m
          [33mcy[39m=[32m"12"[39m
          [33mr[39m=[32m"10"[39m
        [36m/>[39m
      [36m</svg>[39m
      [36m<span[39m
        [33mclass[39m=[32m"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[10px] font-medium text-orange-500"[39m
      [36m>[39m
        [0m10[0m
        [0ms[0m
      [36m</span>[39m
    [36m</button>[39m
  [36m</div>[39m
[36m</body>[39m
[90m [2mâ¯[22m Object.getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/config.js:[2m37:19[22m[39m
[90m [2mâ¯[22m getElementError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m20:35[22m[39m
[90m [2mâ¯[22m getMultipleElementsFoundError node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m23:10[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m55:13[22m[39m
[90m [2mâ¯[22m node_modules/.pnpm/@testing-library+dom@10.4.1/node_modules/@testing-library/dom/dist/query-helpers.js:[2m95:19[22m[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m617:21[22m[39m
    [90m615| [39m
    [90m616| [39m      vi[33m.[39m[34madvanceTimersByTime[39m([34m1000[39m)[33m;[39m
    [90m617| [39m      [34mexpect[39m(screen[33m.[39m[34mgetByText[39m((content[33m,[39m element) [33m=>[39m {
    [90m   | [39m                    [31m^[39m
    [90m618| [39m        [35mreturn[39m element[33m?.[39mtextContent [33m===[39m [32m'10s'[39m[33m;[39m
    [90m619| [39m      }))[33m.[39m[34mtoBeInTheDocument[39m()[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[16/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mHealth Monitoring[2m > [22mshould not spam health notifications
[31m[1mAssertionError[22m: expected "vi.fn()" to be called 1 times, but got 2 times[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m741:29[22m[39m
    [90m739| [39m      
    [90m740| [39m      [90m// Should not show another toast due to cooldown[39m
    [90m741| [39m      [34mexpect[39m(mockShowToast)[33m.[39m[34mtoHaveBeenCalledTimes[39m([34m1[39m)[33m;[39m
    [90m   | [39m                            [31m^[39m
    [90m742| [39m    })[33m;[39m
    [90m743| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[17/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Result Toasts[2m > [22mshould show success toast after successful sync
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m764:5[22m[39m
    [90m762| [39m
    [90m763| [39m  [34mdescribe[39m([32m'Sync Result Toasts'[39m[33m,[39m () [33m=>[39m {
    [90m764| [39m    [34mit[39m([32m'should show success toast after successful sync'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m765| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m766| [39m      [35mconst[39m mockSync [33m=[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m(undefined)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[18/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Result Toasts[2m > [22mshould show conflict toast when conflicts are resolved
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m796:5[22m[39m
    [90m794| [39m    })[33m;[39m
    [90m795| [39m
    [90m796| [39m    it('should show conflict toast when conflicts are resolved', asyncâ€¦
    [90m   | [39m    [31m^[39m
    [90m797| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m798| [39m      [35mconst[39m mockSync [33m=[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m(undefined)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[19/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mSync Result Toasts[2m > [22mshould show error toast when sync fails
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m827:5[22m[39m
    [90m825| [39m    })[33m;[39m
    [90m826| [39m
    [90m827| [39m    [34mit[39m([32m'should show error toast when sync fails'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m   | [39m    [31m^[39m
    [90m828| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m829| [39m      [35mconst[39m mockSync [33m=[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m(undefined)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[20/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mAuth Dialog Integration[2m > [22mshould close auth dialog when close button is clicked
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m860:5[22m[39m
    [90m858| [39m
    [90m859| [39m  [34mdescribe[39m([32m'Auth Dialog Integration'[39m[33m,[39m () [33m=>[39m {
    [90m860| [39m    it('should close auth dialog when close button is clicked', async â€¦
    [90m   | [39m    [31m^[39m
    [90m861| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m862| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[21/47]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m tests/ui/sync-button.test.tsx[2m > [22mSyncButton[2m > [22mAuth Dialog Integration[2m > [22mshould clear auth error state on successful re-authentication
[31m[1mError[22m: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2mâ¯[22m tests/ui/sync-button.test.tsx:[2m890:5[22m[39m
    [90m888| [39m    })[33m;[39m
    [90m889| [39m
    [90m890| [39m    it('should clear auth error state on successful re-authentication'â€¦
    [90m   | [39m    [31m^[39m
    [90m891| [39m      [35mconst[39m user [33m=[39m userEvent[33m.[39m[34msetup[39m({ delay[33m:[39m [35mnull[39m })[33m;[39m
    [90m892| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[22/47]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m4 failed[39m[22m[2m | [22m[1m[32m68 passed[39m[22m[90m (72)[39m
[2m      Tests [22m [1m[31m47 failed[39m[22m[2m | [22m[1m[32m1423 passed[39m[22m[2m | [22m[33m2 skipped[39m[90m (1472)[39m
[2m   Start at [22m 20:42:03
[2m   Duration [22m 51.37s[2m (transform 3.26s, setup 4.29s, collect 8.95s, tests 72.51s, environment 19.41s, prepare 511ms)[22m

â€‰ELIFECYCLEâ€‰ Test failed. See above for more details.
